(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{146:function(e,t,n){e.exports=n(351)},351:function(e,t,n){"use strict";n.r(t);n(147),n(149);var a=n(1),r=n.n(a),s=n(105),o=n.n(s),c=n(23),i=n(70),l=n(67),u=n(68),p=n(71),d=n(69),f=n(72),h=n(11),m=(n(350),n(107),n(144),function(e){var t=e.id,n=e.go,a=e.fetchedUser;return r.a.createElement(h.Panel,{id:t},console.log(a),r.a.createElement(h.PanelHeader,null,"VK Tools"),a&&r.a.createElement(h.Group,{title:"\u0412\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"},r.a.createElement(h.ListItem,{before:a.photo_200?r.a.createElement(h.Avatar,{src:a.photo_200}):null,description:a.city&&a.city.title?a.city.title:""},"".concat(a.first_name," ").concat(a.last_name))),r.a.createElement(h.Group,{title:"\u041f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f"},r.a.createElement(h.Div,null,r.a.createElement(h.Button,{size:"xl",level:"2",onClick:n,"data-to":"friends"},"\u0414\u0440\u0443\u0437\u044c\u044f \u0432 \u0438\u043d\u0441\u0442\u0430\u0433\u0440\u0430\u043c\u0435"))))}),v=n(145),b=n.n(v),g=n(106),E=n.n(g),I=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={usersInfo:[],isSpinner:!0,countFriendsInstagram:0},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"getFriends",value:function(){var e=this,t=0;this.friendsInterval=setInterval(function(){c.a.send("VKWebAppCallAPIMethod",{method:"friends.get",params:{count:100,offset:t,access_token:e.props.access_token,v:"5.95"}}).then(function(n){console.log(n),e.setState(function(e){var t;return(t=e.usersInfo).push.apply(t,Object(i.a)(n.data.response.items))}),t+=100}).catch(function(e){return console.log("ERR getFriends",e)})},2e3)}},{key:"prev",value:function(e){clearInterval(this.subscribersInterval),clearInterval(this.friendsInterval),this.props.go(e)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(h.Panel,{id:this.props.id},r.a.createElement(h.PanelHeader,{left:r.a.createElement(h.HeaderButton,{onClick:this.prev.bind(this),"data-to":"home"},this.osname===h.IOS?r.a.createElement(b.a,null):r.a.createElement(E.a,null))},"\u0414\u0440\u0443\u0437\u044c\u044f"),r.a.createElement(h.Group,{title:"\u0414\u0440\u0443\u0437\u044c\u044f \u0432 \u0438\u043d\u0441\u0442\u0430\u0433\u0440\u0430\u043c\u0435 ".concat(this.props.friends.length)},this.props.friends.map(function(e,t){return r.a.createElement("div",{key:t},e)})))}}]),t}(r.a.Component),k=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).go=function(e){n.setState({activePanel:e.currentTarget.dataset.to})},n.state={activePanel:"home",fetchedUser:null,access_token:null,usersInfo:[]},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;c.a.send("VKWebAppGetAuthToken",{app_id:6940370,scope:"friends,photos,video,pages,status,notes,wall,docs,groups,stats,market"}).then(function(t){e.setState({access_token:t.data.access_token}),e.getFriends()}).catch(function(e){return console.error("ERR VKWebAppGetUserInfo",e)}),c.a.send("VKWebAppGetUserInfo",{}).then(function(t){return e.setState({fetchedUser:t.data})}).catch(function(e){return console.error("ERR VKWebAppGetUserInfo",e)})}},{key:"getFriends",value:function(){var e=this;c.a.send("VKWebAppCallAPIMethod",{method:"friends.get",params:{count:100,offset:0,access_token:this.state.access_token,v:"5.95"}}).then(function(t){return e.setState(function(e){var n;return(n=e.usersInfo).push.apply(n,Object(i.a)(t.data.response.items))})}).catch(function(e){return console.log("ERR getFriends",e)})}},{key:"render",value:function(){return r.a.createElement(h.View,{activePanel:this.state.activePanel},r.a.createElement(m,{id:"home",fetchedUser:this.state.fetchedUser,go:this.go}),r.a.createElement(I,{id:"friends",go:this.go,friends:this.state.usersInfo}))}}]),t}(r.a.Component);c.a.send("VKWebAppInit",{}).then(function(e){return console.log("VKWebAppInit",e)}).catch(function(e){return console.error("ERR VKWebAppInit",e)}),o.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[146,1,2]]]);
//# sourceMappingURL=main.4676b801.chunk.js.map