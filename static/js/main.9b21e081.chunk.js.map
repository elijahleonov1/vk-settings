{"version":3,"sources":["store/actionsType.js","store/user/reducer.js","store/friernds/reducer.js","store/reducers.js","libs/api/vk.js","libs/api/api.js","components/User/User.js","containers/HomeContainer.js","store/friernds/action.js","containers/Friends/FriendsContainer.js","App.js","store/user/action.js","index.js"],"names":["SET_USER_DATA","SET_FRIENDS_DATA","DELETE_FRIEND","initialState","Immutable","id","photo_200","first_name","last_name","getUser","state","user","getFriends","friends","combineReducers","arguments","length","undefined","actions","type","types","merge","Object","objectSpread","userData","concat","fiendsData","filter","frend","v","getProfilesUrl","method","opt","access_token","urlOpts","keys","forEach","item","vk","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","axios","get","sent","data","error","Error","error_msg","response","abrupt","t0","stop","_x","_x2","apply","this","_ref2","_callee2","opts","_context2","fields","connect","send","params","_ref3","_callee3","user_id","count","offset","_args3","_context3","items","deleteFriend","_ref4","_callee4","_context4","_x3","api","description","fetchedUser","react_default","createElement","react","status","style","height","city","title","User","handleBtnOne","btnOneTitle","handleBtnTwo","btnTwoTitle","vkui","before","photo_200_orig","src","size","onClick","e","window","open","bottomContent","display","marginRight","level","HomeContainer","_this$props","props","go","components_User_User","expandable","data-to","Component","fetchFriernds","dispatch","getState","console","deleteFriernd","_x4","FrierndsContainer","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","osname","platform","fetchedFriernds","frierndsActions","_this$props2","_this2","_this$props3","left","IOS","chevron_back_default","back_default","map","delFriend","key","frierndsSelects","App","setState","activePanel","currentTarget","dataset","to","vkConnect","detail","log","app_id","scope","containers_HomeContainer","FriendsContainer","userSelects","then","catch","store","createStore","rootReducer","compose","applyMiddleware","thunk","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","react_redux_es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.9b21e081.chunk.js","sourcesContent":["export const SET_USER_DATA = 'SET_USER_DATA';\r\nexport const SET_FRIENDS_DATA = 'SET_FRIENDS_DATA';\r\nexport const DELETE_FRIEND = 'DELETE_FRIEND';","import * as types from '../actionsType';\r\nimport Immutable from 'seamless-immutable';\r\n\r\nconst initialState = Immutable({\r\n\tid: '',\r\n\tphoto_200: '',\r\n\tfirst_name: '',\r\n\tlast_name: ''\r\n});\r\n\r\nexport default function user(state = initialState, actions = {}) {\r\n\tswitch(actions.type) {\r\n\t\tcase types.SET_USER_DATA:\r\n\t\t\treturn state.merge({\r\n\t\t\t\t...actions.userData\r\n\t\t\t});\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport function getUser (state) {\r\n\treturn state.user;\r\n}","import * as types from '../actionsType';\r\nimport Immutable from 'seamless-immutable';\r\n\r\nconst initialState = Immutable([]);\r\n\r\nexport default function friends(state = initialState, actions = {}) {\r\n\tswitch(actions.type) {\r\n\t\tcase types.SET_FRIENDS_DATA:\r\n\t\t\treturn [].concat(state, actions.fiendsData);\r\n\t\tcase types.DELETE_FRIEND:\r\n\t\t\treturn state.filter(frend => frend.id !== actions.id);\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport function getFriends (state) {\r\n\treturn state.friends;\r\n}","import {combineReducers} from 'redux';\r\nimport user from './user/reducer';\r\nimport friends from './friernds/reducer';\r\n\r\nexport default combineReducers({\r\n\tuser,\r\n\tfriends\r\n});","import axios from 'axios';\r\nimport connect from '@vkontakte/vkui-connect';\r\n\r\nconst access_token = '297cbfb44eb10d05d05281a0b8d5b4244d3b7efe4c5fdc626360f9d4dda14a82a428e42ebc658dac5c707';\r\nconst url = 'https://api.vk.com/method/';\r\nconst v = '5.95';\r\n\r\nconst getProfilesUrl = (method, opt) => {\r\n\topt.access_token = access_token;\r\n\tlet urlOpts = '';\r\n\tlet optKeys = Object.keys(opt);\r\n\toptKeys.forEach(item => urlOpts += `${item}=${opt[item]}&`);\r\n\treturn `${url}${method}?${urlOpts}${v}`;\r\n};\r\n\r\nexport const vk = async (method, opt) => {\r\n\ttry {\r\n\t\tconst res = await axios.get(getProfilesUrl(method, opt));\r\n\t\tif (res.data.error) {\r\n\t\t\tthrow new Error(res.data.error.error_msg);\r\n\t\t}\r\n\t\treturn await res.data.response;\r\n\t} catch (error) {\r\n\t\tthrow new Error(error);\r\n\t}\r\n};\r\n\r\nexport const getUser = async () => {\r\n\tconst method = 'users.get';\r\n\tconst opts = {\r\n\t\tfields: 'photo_id, verified, sex, bdate, city, country, home_town, has_photo, photo_50, photo_100, photo_200_orig, photo_200, photo_400_orig, photo_max, photo_max_orig, online, domain, has_mobile, contacts, site, education, universities, schools, status, last_seen, followers_count, common_count, occupation, nickname, relatives, relation, personal, connections, exports, activities, interests, music, movies, tv, books, games, about, quotes, can_post, can_see_all_posts, can_see_audio, can_write_private_message, can_send_friend_request, is_favorite, is_hidden_from_feed, timezone, screen_name, maiden_name, crop_photo, is_friend, friend_status, career, military, blacklisted, blacklisted_by_me, can_be_invited_group'\r\n\t}\r\n\tdebugger\r\n\tlet res = await connect.send('VKWebAppCallAPIMethod', {method, params: {...opts, v } });\r\n\tif (!res) {\r\n\t\tres = await vk(method, opts);\r\n\t\treturn await res[0];\r\n\t}\r\n\treturn await res;\r\n};\r\n\r\nexport const getFriends = async (user_id='', count=100, offset=0) => {\r\n\tconst method = 'friends.get';\r\n\tconst opts ={\r\n\t\tuser_id,\r\n\t\tcount,\r\n\t\toffset,\r\n\t\tfields: 'nickname, domain, sex, bdate, city, country, timezone, photo_50, photo_100, photo_200_orig, has_mobile, contacts, education, online, relation, last_seen, status, can_write_private_message, can_see_all_posts, can_post, universities',\r\n\r\n\t};\r\n\tconst res = await vk(method, opts);\r\n\treturn await res.items;\r\n};\r\n\r\nexport const deleteFriend = async (id) => {\r\n\tconst method = 'friends.delete';\r\n\tconst opts = { user_id: id };\r\n\treturn await vk(method, opts);\r\n};","import *as vk from './vk.js';\r\n\r\nexport default {\r\n\tvk\r\n};","import React, {Fragment} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Avatar, Button,Cell} from '@vkontakte/vkui';\r\n\r\nconst urlUser = 'https://vk.com/id'\r\n\r\nconst description = (fetchedUser) => (\r\n\t<Fragment>\r\n\t\t{fetchedUser.status && fetchedUser.status ? fetchedUser.status : ''}\r\n\t\t{fetchedUser.status && <div style={{ 'height': '7px'}} /> }\r\n\t\t{fetchedUser.city && fetchedUser.city.title ? fetchedUser.city.title : ''}\r\n\t</Fragment>\r\n);\r\n\r\nconst User = ({handleBtnOne, btnOneTitle, handleBtnTwo, btnTwoTitle, fetchedUser}) => (\r\n\t<Fragment>\r\n\t\t{fetchedUser &&\r\n\t\t<Cell\r\n\t\t\tbefore={fetchedUser.photo_200 || fetchedUser.photo_200_orig ? \r\n\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\tsrc={fetchedUser.photo_200 || fetchedUser.photo_200_orig}\r\n\t\t\t\t\t/> : null}\r\n\t\t\tsize=\"l\"\r\n\t\t\tdescription={description(fetchedUser)}\r\n\t\t\tonClick={(e) => window.open(`${urlUser}${fetchedUser.id}`)}\r\n\t\t\tbottomContent={\r\n\t\t\t\t(handleBtnOne || handleBtnTwo) &&\r\n\t\t\t\t<div style={{ display: 'flex' }}>\r\n\t\t\t\t\t{handleBtnOne && <Button size=\"m\" onClick={(e) => handleBtnOne(fetchedUser.id)} style={{ marginRight: 8 }}>{btnOneTitle}</Button>}\r\n\t\t\t\t\t{handleBtnTwo && <Button size=\"m\" onClick={(e) => handleBtnTwo(fetchedUser.id)} level=\"secondary\">{btnTwoTitle}</Button>}\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t>\r\n\t\t{`${fetchedUser.first_name} ${fetchedUser.last_name}`}</Cell>}\r\n\t</Fragment>\r\n);\r\n\r\nUser.propTypes = {\r\n\thandleBtnOne: PropTypes.func,\r\n\tbtnOneTitle: PropTypes.string,\r\n\thandleBtnTwo: PropTypes.func,\r\n\tbtnTwoTitle: PropTypes.string,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tphoto_200_orig: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string,\r\n\t\tstatus: PropTypes.string,\r\n\t\tcity: PropTypes.shape({\r\n\t\t\ttitle: PropTypes.string,\r\n\t\t}),\r\n\t}),\r\n};\r\n\r\nexport default User;\r\n","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Panel, Group, PanelHeader, Cell, List} from '@vkontakte/vkui';\r\n\r\nimport User from '../components/User/User';\r\n\r\nclass HomeContainer extends Component{\r\n\trender () {\r\n\t\tconst {id, go, fetchedUser} = this.props;\r\n\t\treturn (\r\n\t\t\t<Panel id={id}>\r\n\t\t\t\t<PanelHeader> Главная </PanelHeader>\r\n\t\t\t\t<List>\r\n\t\t\t\t\t<User fetchedUser={fetchedUser} />\r\n\t\t\t\t</List>\r\n\t\t\t\t<Group title=\"Управление друзьями\">\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t<Cell expandable onClick={go} data-to='friends'>Удалить друзей</Cell>\r\n\t\t\t\t\t\t<Cell expandable onClick={go} data-to='friends'>Друзья в инстаграме</Cell>\r\n\t\t\t\t\t\t<Cell expandable onClick={go} data-to='friends'>Последняя активность</Cell>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</Group>\r\n\t\t\t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nHomeContainer.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string,\r\n\t\tstatus: PropTypes.string,\r\n\t\tcity: PropTypes.shape({\r\n\t\t\ttitle: PropTypes.string,\r\n\t\t}),\r\n\t}),\r\n};\r\nexport default HomeContainer;\r\n","import * as types from '../actionsType';\r\nimport api from '../../libs/api/api';\r\n\r\nexport const fetchFriernds = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tconst fiendsData = await api.vk.getFriends();\r\n\t\tdispatch({type: types.SET_FRIENDS_DATA, fiendsData});\r\n\t} catch(error) {\r\n\t\tconsole.error(error);\r\n\t}\r\n};\r\n\r\nexport const deleteFriernd = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tawait api.vk.deleteFriend(id);\r\n\t\tdispatch({type: types.DELETE_FRIEND, id});\r\n\t} catch(error) {\r\n\t\tconsole.error(error);\r\n\t}\r\n};","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport { Panel, Group, PanelHeader, Cell, List, platform, HeaderButton, IOS, View} from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n\r\nimport * as frierndsSelects from '../../store/friernds/reducer';\r\nimport * as frierndsActions from '../../store/friernds/action';\r\n\r\nimport User from '../../components/User/User';\r\n\r\nclass FrierndsContainer extends Component {\r\n\tosname = platform();\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst {dispatch, fetchedFriernds} = this.props;\r\n\t\tconst {fetchFriernds} = frierndsActions;\r\n\r\n\t\tif (!fetchedFriernds.length) {\r\n\t\t\tdispatch(fetchFriernds());\r\n\t\t}\r\n\t}\r\n\r\n\tdelFriend (id) {\r\n\t\tconst {dispatch, deleteFriernd} = this.props;\r\n\t\tdispatch(deleteFriernd(id));\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {id, go, fetchedFriernds} = this.props;\r\n\t\treturn (\r\n\t\t\t<Panel id={id}>\r\n\t\t\t\t<PanelHeader\r\n\t\t\t\t\tleft={<HeaderButton onClick={go} data-to=\"home\">\r\n\t\t\t\t\t\t{this.osname === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\r\n\t\t\t\t\t</HeaderButton>}\r\n\t\t\t\t> Друзья </PanelHeader>\r\n\t\t\t\t<List>\r\n\t\t\t\t{fetchedFriernds && fetchedFriernds.map(fetchedUser => (\r\n\t\t\t\t\t<User\r\n\t\t\t\t\t\thandleBtnTwo={(id) => this.delFriend(id)}\r\n\t\t\t\t\t\tbtnTwoTitle='Удалить'\r\n\t\t\t\t\t\tkey={fetchedUser.id}\r\n\t\t\t\t\t\tfetchedUser={fetchedUser}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t\t</List>\r\n\t\t\t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\tconst {getFriends} = frierndsSelects;\r\n\treturn {\r\n\t\tfetchedFriernds: getFriends(state)\r\n\t}\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\tconst {deleteFriernd} = frierndsActions;\r\n\treturn {\r\n\t\tdispatch,\r\n\t\tdeleteFriernd\r\n\t}\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FrierndsContainer);\r\n","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\n\nimport * as userSelects from './store/user/reducer';\nimport * as userActions from './store/user/action';\n\nimport { View } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport * as vkConnect from '@vkontakte/vkui-connect';\n\nimport Home from './containers/HomeContainer';\nimport Friends from './containers/Friends/FriendsContainer';\n\nclass App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactivePanel: 'home'\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tvkConnect.subscribe((e) => {\n\t\t\tswitch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppAccessTokenReceived':\n\t\t\t\t\tdebugger;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log(e.detail);\n\t\t\t}\n\t\t});\n\t\tvkConnect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6940370, \"scope\": \"friends,status,wall,groups\"});\n\n\t\tconst { dispatch } = this.props;\n\t\tdispatch(userActions.fetchUser());\n\t}\n\n\tgo = (e) => {\n\t\tthis.setState({ activePanel: e.currentTarget.dataset.to })\n\t};\n\n\trender() {\n\t\tconst {activePanel} = this.state;\n\t\tconst {fetchedUser} = this.props;\n\t\treturn (\n\t\t\t<View activePanel={activePanel}>\n\t\t\t\t<Home id='home' go={this.go} fetchedUser={fetchedUser} />\n\t\t\t\t<Friends id='friends' go={this.go} />\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tfetchedUser: userSelects.getUser(state),\n\t}\n}\n\nexport default connect(mapStateToProps, null)(App);\n","import * as types from '../actionsType';\r\nimport api from '../../libs/api/api';\r\n\r\nexport const fetchUser = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tconst userData = await api.vk.getUser();\r\n\t\tdispatch({type: types.SET_USER_DATA, userData});\r\n\t} catch(error) {\r\n\t\tconsole.error(error);\r\n\t}\r\n};","import 'core-js/es6/map';\nimport 'core-js/es6/set';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport thunk from 'redux-thunk';\n\nimport {Provider} from 'react-redux';\nimport {createStore, applyMiddleware, compose} from 'redux';\nimport rootReducer from './store/reducers';\n\nimport connect from '@vkontakte/vkui-connect-promise';\n\nimport App from './App';\n\nconnect.send('VKWebAppInit', {})\n\t.then(res => console.log('VKWebAppInit', res))\n\t.catch(e => console.error('ERR VKWebAppInit', e));\n\nconst store = createStore(rootReducer, compose(\n\tapplyMiddleware(thunk),\n\twindow.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n));\n\nconst CombineApp = () => (\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>\n);\n\nReactDOM.render(<CombineApp />, document.getElementById('root'));\n"],"sourceRoot":""}