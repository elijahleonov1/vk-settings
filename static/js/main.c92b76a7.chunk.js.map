{"version":3,"sources":["store/user/actionType.js","store/user/reducer.js","store/friends/actionType.js","store/friends/reducer.js","store/search/actionType.js","store/search/reducer.js","store/reducers.js","utils/api/vk.js","store/user/action.js","store/friends/action.js","components/User.js","containers/Home.js","components/RefreshList.js","components/HeaderPanel.js","containers/UsersList.js","containers/Friends/Friends.js","containers/Friends/Instagram.js","containers/Friends/BannedFriends.js","containers/Friends/SortLongTime.js","containers/Diagram/City.js","App.js","index.js"],"names":["SET_USER","userInitialState","photo_200","first_name","last_name","city","title","user","state","arguments","length","undefined","action","type","Object","objectSpread","payload","getUser","FETCHED_FRIENDS","UPDATE_FRIENDS","users","friends","offsetFriends","toConsumableArray","concat","getFriends","getFriendsInInstagram","filter","instagram","getBannedFriends","deactivated","getSortLongTime","sort","a","b","last_seen","time","getSortFriendsFromCity","FETCHED_SEARCH","initialState","q","combineReducers","search","v","initStore","access_token","dateTime","scope","clearStorage","fetchedAccessToken","_ref","asyncToGenerator","regenerator_default","mark","_callee","response","wrap","_context","prev","next","connect","send","app_id","sent","data","console","log","abrupt","t0","Error","message","stop","_x","apply","this","getAccessToken","_ref2","_callee2","newTime","oldTime","diffTime","updateScope","oneFetched","_context2","Date","now","localStorage","_x2","_ref3","_callee3","_context3","_ref4","_callee4","count","offset","params","_args4","_context4","fields","method","items","fetchedUser","dispatch","fetchedAllFriends","setFetching","fetched","fetchedFriends","updateFriends","_x3","descriptions","longTime","description","country","date","toLocaleDateString","toLocaleTimeString","slice","formatDateTime","User","size","id","photo_50","photo_100","photo_200_orig","bdate","connections","otherProps","objectWithoutProperties","url","connectionsType","des","react_default","createElement","vkui","key","before","src","onClick","window","location","href","openUrl","defaultProps","selectUser","props","go","_useState","useState","_useState2","slicedToArray","isFetching","setIsFetching","useEffect","userActions","useFetchedUser","onRefresh","setTimeout","components_User","assign","data-to","asideContent","chevron_default","RefreshList","handleScroll","handleRefresh","list","footerNameCount","component","groupTitle","children","onScroll","style","display","alignItems","flexDirection","marginTop","map","item","cloneElement","osname","platform","HeaderPanel","handelClick","dataTo","left","IOS","chevron_back_default","back_default","UsersList","usersList","handleScrollBottom","handleFetched","searchFilter","isSearch","headerPanelTitle","_useState3","_useState4","setSearch","_useState5","_useState6","userSearch","setUserSearch","addEventListener","e","scrollHeight","target","documentElement","clientHeight","pageYOffset","Fragment","components_HeaderPanel","value","onChange","searchUsers","onClose","components_RefreshList","selectFriends","frendsActions","containers_UsersList","status","domain","toLowerCase","indexOf","getOffsetInstagramFriends","getOffsetBannedFriends","COLORS","top","lineHeight","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","RADIAN","percent","index","Math","PI","radius","x","cos","y","sin","fill","textAnchor","dominantBaseline","City","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","_this$props","_data","name","values","es6","width","height","onMouseEnter","onPieEnter","dataKey","labelLine","label","entry","iconSize","iconType","layout","verticalAlign","wrapperStyle","Component","App","activePanel","setActivePanel","currentTarget","dataset","to","containers_Home","containers_Friends_Friends","Instagram","Friends_BannedFriends","Friends_SortLongTime","Diagram_City","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c92b76a7.chunk.js","sourcesContent":["export const SET_USER = 'SET_USER';","import { SET_USER } from './actionType';\r\n\r\nconst userInitialState = {\r\n\tphoto_200: 'https://pp.userapi.com/c841034/v841034569/3b8c1/pt3sOw_qhfg.jpg',\r\n\tfirst_name: 'Вася',\r\n\tlast_name: 'Васечкин',\r\n\tcity: { title: 'New York' }\r\n};\r\n\r\nexport default function user (state = userInitialState, action = {}) {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t};\r\n};\r\n\r\nexport const getUser = (state) => {\r\n\treturn state.user;\r\n};","export const FETCHED_FRIENDS = 'FETCHED_FRIENDS';\r\nexport const FETCHED_ALL_FRIENDS = 'FETCHED_ALL_FRIENDS';\r\nexport const UPDATE_FRIENDS = 'UPDATE_FRIENDS';\r\nexport const FETCHED_INSTAGRAM_FRIENDS = 'FETCHED_INSTAGRAM_FRIENDS';\r\nexport const UPDATE_INSTAGRAM_FRIENDS = 'UPDATE_INSTAGRAM_FRIENDS';\r\nexport const FETCHED_BANNED_FRIENDS = 'FETCHED_BANNED_FRIENDS';\r\nexport const UPDATE_BANNED_FRIENDS = 'UPDATE_BANNED_FRIENDS';","import {\r\n\tFETCHED_FRIENDS,\r\n\tUPDATE_FRIENDS\r\n} from './actionType';\r\n\r\nconst userInitialState = {\r\n\tusers: []\r\n};\r\n\r\n\r\nexport default function friends (state = userInitialState, action = {}) {\r\n\tswitch (action.type) {\r\n\t\tcase FETCHED_FRIENDS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\toffsetFriends: action.offsetFriends,\r\n\t\t\t\tusers: [...action.users],\r\n\t\t\t};\r\n\t\tcase UPDATE_FRIENDS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\toffsetFriends: action.offsetFriends,\r\n\t\t\t\tusers: [...state.users, ...action.users],\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t};\r\n};\r\n\r\nexport const getFriends = (state) => state.friends.users;\r\nexport const getFriendsInInstagram = (state) => state.friends.users.filter(user => user.instagram);\r\nexport const getBannedFriends = (state) => state.friends.users.filter(user => user.deactivated === 'deleted' || user.deactivated === 'banned');\r\nexport const getSortLongTime = (state) => {\r\n\treturn state.friends.users.sort((a,b) => {\r\n\t\treturn \ta.last_seen &&\r\n\t\t\t\tb.last_seen &&\r\n\t\t\t\ta.last_seen.time &&\r\n\t\t\t\tb.last_seen.time && (a.last_seen.time - b.last_seen.time)\r\n\t});\r\n};\r\n\r\nexport const getSortFriendsFromCity = (state) => {\r\n\r\n};","export const FETCHED_SEARCH = 'FETCHED_SEARCH';","import {FETCHED_SEARCH} from './actionType';\r\n\r\nconst initialState = {\r\n\tq: []\r\n};\r\n\r\nexport default function search (state=initialState, action={}) {\r\n\tswitch(action.type) {\r\n\t\tcase FETCHED_SEARCH:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tq: action.search.filter(q => q.type === 'profile')\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const getSearch = (state) => {\r\n\treturn state.search.q;\r\n};","import {combineReducers} from 'redux';\r\nimport user, * as selectUser from './user/reducer';\r\nimport friends, * as selectFriends from './friends/reducer';\r\nimport search, * as selectSearch from './search/reducer';\r\n\r\nexport default combineReducers({\r\n\tuser,\r\n\tfriends,\r\n\tsearch\r\n});\r\n\r\nexport {\r\n\tselectUser,\r\n\tselectFriends,\r\n\tselectSearch\r\n}","import connect from '@vkontakte/vkui-connect-promise';\r\n\r\nconst v = '5.95';\r\nconst app_id = 7080438;\r\n\r\nconst initStore = {\r\n\taccess_token: '',\r\n\tdateTime: '',\r\n\tscope: ''\r\n};\r\n\r\nconst clearStorage = () => {\r\n\tinitStore.access_token = '';\r\n\tinitStore.dateTime = '';\r\n\tinitStore.scope = '';\r\n};\r\n\r\nconst fetchedAccessToken = async (scope) => {\r\n\ttry {\r\n\t\tconst response = await connect.send('VKWebAppGetAuthToken', {app_id, scope});\r\n\t\tconst access_token = await response.data.access_token;\r\n\t\tconsole.log('access_token', access_token);\r\n\t\treturn access_token;\r\n\t} catch (err) {\r\n\t\tthrow Error(err.message);\r\n\t}\r\n};\r\n\r\nconst getAccessToken = async (scope) => {\r\n\ttry {\r\n\t\tconst resTime = 1000000;\r\n\t\tconst newTime = Date.now();\r\n\t\tconst oldTime = initStore.dateTime || (Date.now() - resTime + 1);\r\n\t\tconst diffTime = newTime - oldTime;\r\n\t\tconst updateScope = initStore.scope !== scope;\r\n\t\tconst oneFetched = !initStore.oneFetched;\r\n\t\tconst isTimeRunUot = (!localStorage.access_token && diffTime > resTime);\r\n\r\n\t\tif ((isTimeRunUot || updateScope) && oneFetched) {\r\n\t\t\tconst access_token = await fetchedAccessToken(scope);\r\n\t\t\tinitStore.access_token = access_token;\r\n\t\t\tinitStore.dateTime = newTime;\r\n\t\t\tinitStore.scope = scope;\r\n\t\t}\r\n\t\treturn await initStore.access_token;\r\n\t} catch (err) {\r\n\t\tclearStorage();\r\n\t\tthrow Error(err.message);\r\n\t}\r\n};\r\n\r\nexport const getUser = async () => {\r\n\ttry{\r\n\t\tconst response = await connect.send('VKWebAppGetUserInfo', {});\r\n\t\treturn await response.data;\r\n\t} catch(err) {\r\n\t\tthrow Error(err.message);\r\n\t}\r\n};\r\n\r\nexport const getFriends = async (count=100, offset=0) => {\r\n\ttry{\r\n\t\tconst access_token = await getAccessToken('friends, groups');\r\n\t\tconst method = 'friends.get';\r\n\t\tconst fields = 'connections,deactivated,nickname,domain,sex,bdate,city,country,timezone,photo_50,photo_100,photo_200_orig,has_mobile,contacts,education,online,relation,last_seen,status,can_write_private_message,can_see_all_posts,can_post,universities';\r\n\t\tconst params = {access_token, v, fields, count, offset};\r\n\t\tconst response = await connect.send('VKWebAppCallAPIMethod', {method, params});\r\n\t\treturn await response.data.response.items;\r\n\t} catch (err) {\r\n\t\tclearStorage();\r\n\t\tthrow Error(err.message);\r\n\t}\r\n};\r\n\r\nexport const fetchedSearch = async ({q='', offset=0, limit=10, filters='', fields='', search_global=1}) => {\r\n\ttry{\r\n\t\tconst access_token = await getAccessToken('friends, groups');\r\n\t\tconst method = 'search.getHints';\r\n\t\tconst params = { access_token, v, q, offset, limit, filters, search_global };\r\n\t\tconst response = await connect.send('VKWebAppCallAPIMethod', {method, params});\r\n\t\treturn await response.data.response.items;\r\n\t} catch (err) {\r\n\t\tclearStorage();\r\n\t\tthrow Error(err.message);\r\n\t}\r\n};","import {SET_USER} from './actionType';\r\nimport {getUser} from '../../utils/api/vk';\r\n\r\nexport const fetchedUser = () => async (dispatch) => {\r\n\tconst data = await getUser();\r\n\tdispatch({type: SET_USER, payload: data});\r\n};","import {\r\n\tFETCHED_FRIENDS,\r\n\tUPDATE_FRIENDS\r\n} from './actionType';\r\nimport {getFriends} from '../../utils/api/vk';\r\n\r\nexport const fetchedAllFriends = (setFetching) => {\r\n\tlet offset = 0;\r\n\tconst fetched = async (dispatch) => {\r\n\t\tconst data = await getFriends(100, offset);\r\n\t\tconst isVoidData = !data.length;\r\n\t\tif (!isVoidData && offset <= 5000) {\r\n\t\t\tconsole.log('fetchedAllUsers', offset);\r\n\t\t\toffset += 100;\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: UPDATE_FRIENDS,\r\n\t\t\t\tusers: [...data],\r\n\t\t\t\toffsetFriends: offset\r\n\t\t\t});\r\n\t\t\tfetched(dispatch);\r\n\t\t}\r\n\t\tsetFetching && setFetching();\r\n\t};\r\n\treturn fetched;\r\n};\r\n\r\nexport const fetchedFriends = (setFetching) => {\r\n\tlet offset = 0;\r\n\treturn async (dispatch) => {\r\n\t\tconst data = await getFriends(100, offset);\r\n\t\tdispatch({type: FETCHED_FRIENDS, users: [...data]});\r\n\t\tsetFetching && setFetching();\r\n\t};\r\n};\r\n\r\nexport const updateFriends = (offset=0) => async (dispatch) => {\r\n\tconsole.log('UPDATE_FRIENDS', offset);\r\n\tconst data = await getFriends(100, offset);\r\n\tdispatch({type: UPDATE_FRIENDS, users: [...data]});\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Cell,Avatar} from '@vkontakte/vkui';\r\n\r\nconst INSTAGRAM = 'instagram';\r\nconst VK = 'vk';\r\n\r\nconst connectionsType = ({id, type, instagram}) => {\r\n\tswitch(type) {\r\n\t\tcase VK: return `https://vk.com/id${id}`;\r\n\t\tcase INSTAGRAM: return `https://www.instagram.com/${instagram}`;\r\n\t\tdefault: return `https://vk.com/id${id}`;\r\n\t}\r\n};\r\n\r\nconst openUrl = (url) => {\r\n\twindow.location.href = url;\r\n};\r\n\r\nconst formatDateTime = (last_seen) => {\r\n\tconst dateTime = new Date(last_seen * 1000);\r\n\tconst date = dateTime.toLocaleDateString();\r\n\tconst time = dateTime.toLocaleTimeString().slice(0,5);\r\n\treturn `${time} ${date}`;\r\n};\r\n\r\nconst descriptions = ({last_seen, longTime, description, city, country}) => {\r\n\tif (longTime &&\r\n\t\t!!last_seen &&\r\n\t\t!!last_seen.time) {\r\n\t\treturn `был в сети ${formatDateTime(last_seen.time)}`;\r\n\t}\r\n\treturn description || `${city.title} ${country.title}`;\r\n};\r\n\r\nconst  User = ({\r\n\tsize,\r\n\tid,\r\n\tphoto_50,\r\n\tphoto_100,\r\n\tphoto_200,\r\n\tphoto_200_orig,\r\n\tcity,\r\n\tcountry,\r\n\tfirst_name,\r\n\tlast_name,\r\n\tbdate,\r\n\tdescription,\r\n\tinstagram,\r\n\tconnections,\r\n\t...otherProps\r\n}) => {\r\n\tconst url = connectionsType({ id, type: connections, instagram });\r\n\tconst des = descriptions({ last_seen: otherProps.last_seen, longTime: otherProps.longTime, description, city, country });\r\n\treturn (\r\n\t\t<Cell\r\n\t\t\tkey={id}\r\n\t\t\tbefore={<Avatar\r\n\t\t\t\t\tsize={size}\r\n\t\t\t\t\tsrc={photo_200_orig || photo_200 || photo_100 || photo_50}\r\n\t\t\t\t/>}\r\n\t\t\tsize=\"l\"\r\n\t\t\tdescription={des}\r\n\t\t\tonClick={() => openUrl(url)}\r\n\t\t>\r\n\t\t\t{`${first_name} ${last_name}`}\r\n\t\t</Cell>\r\n\t);\r\n}\r\n\r\nUser.propTypes = {\r\n\tid: PropTypes.number,\r\n\tsize: PropTypes.number,\r\n\tphoto_50: PropTypes.string,\r\n\tphoto_100: PropTypes.string,\r\n\tphoto_200: PropTypes.string,\r\n\tphoto_200_orig: PropTypes.string,\r\n\tfirst_name: PropTypes.string,\r\n\tlast_name: PropTypes.string,\r\n\tbdate: PropTypes.string,\r\n\tdescription: PropTypes.string,\r\n\tconnections: PropTypes.string,\r\n\tinstagram: PropTypes.string,\r\n\tcity: PropTypes.shape({title: PropTypes.string}),\r\n\tcountry: PropTypes.shape({title: PropTypes.string})\r\n};\r\n\r\nUser.defaultProps = {\r\n\tsize: 48,\r\n\tcity: {title: ''},\r\n\tcountry: {title: ''},\r\n\tconnections: 'vk'\r\n};\r\n\r\nexport default User;","import React, {useEffect, useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {selectUser} from '../store/reducers';\r\nimport {userActions} from '../store/actions';\r\n\r\nimport {Panel, List, Group, PanelHeader, Cell, PullToRefresh} from '@vkontakte/vkui';\r\nimport Icon24Chevron from '@vkontakte/icons/dist/24/chevron';\r\n\r\nimport User from '../components/User';\r\n\r\nconst useFetchedUser = (dispatch) => {\r\n\tuseEffect(() => {\r\n\t\tconst {fetchedUser} = userActions;\r\n\t\tdispatch(fetchedUser());\r\n\t}, []);\r\n};\r\n\r\nconst Home = (props) => {\r\n\tconst {id, go, fetchedUser, dispatch} = props;\r\n\tconst [isFetching, setIsFetching] = useState(false);\r\n\tuseFetchedUser(dispatch);\r\n\r\n\tconst onRefresh = () => {\r\n\t\tsetIsFetching(true);\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetIsFetching(false);\r\n\t\t}, 2000);\r\n\t};\r\n\r\n\treturn(\r\n\t\t<Panel id={id}>\r\n\t\t\t<PanelHeader>Главная</PanelHeader>\r\n\t\t\t\r\n\t\t\t<PullToRefresh\r\n\t\t\t\tonRefresh={onRefresh}\r\n\t\t\t\tisFetching={isFetching}>\r\n\t\t\t\t<Group title=\"\">\r\n\t\t\t\t\t<User size={36} {...fetchedUser} go={go} />\r\n\t\t\t\t</Group>\r\n\r\n\t\t\t\t<Group title=\"Друзья\">\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t<Cell\r\n\t\t\t\t\t\t\tonClick={go}\r\n\t\t\t\t\t\t\tdata-to='friends'\r\n\t\t\t\t\t\t\tasideContent={<Icon24Chevron />}\r\n\t\t\t\t\t\t>Поиск по друзьям</Cell>\r\n\t\t\t\t\t\t<Cell\r\n\t\t\t\t\t\t\tonClick={go}\r\n\t\t\t\t\t\t\tdata-to='friendsInInstagram'\r\n\t\t\t\t\t\t\tasideContent={<Icon24Chevron />}\r\n\t\t\t\t\t\t>Друзья в инстаграмме</Cell>\r\n\t\t\t\t\t\t<Cell\r\n\t\t\t\t\t\t\tonClick={go}\r\n\t\t\t\t\t\t\tdata-to='deletedAndBanned'\r\n\t\t\t\t\t\t\tasideContent={<Icon24Chevron />}\r\n\t\t\t\t\t\t>удалённые / заданные</Cell>\r\n\t\t\t\t\t\t<Cell\r\n\t\t\t\t\t\t\tonClick={go}\r\n\t\t\t\t\t\t\tdata-to='sortlongtime'\r\n\t\t\t\t\t\t\tasideContent={<Icon24Chevron />}\r\n\t\t\t\t\t\t>кто давно заходил?</Cell>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</Group>\r\n\t\t\t\t<Group title=\"Статистика\">\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t<Cell\r\n\t\t\t\t\t\t\tonClick={go}\r\n\t\t\t\t\t\t\tdata-to='city'\r\n\t\t\t\t\t\t\tasideContent={<Icon24Chevron />}\r\n\t\t\t\t\t\t>Города</Cell>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</Group>\r\n\t\t\t</PullToRefresh>\r\n\t\t</Panel>\r\n\t);\r\n}\r\n\r\nHome.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tfetchedUser: selectUser.getUser(state)\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Home);\r\n","import React, {cloneElement} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Footer,PullToRefresh,Group,List,Spinner} from '@vkontakte/vkui';\r\n\r\nconst RefreshList = ({\r\n\thandleScroll,\r\n\thandleRefresh,\r\n\tisFetching,\r\n\tlist,\r\n\tcomponent,\r\n\tfooterNameCount,\r\n\tgroupTitle,\r\n\tchildren\r\n}) => {\r\n\t\r\n\treturn(\r\n\t\t<PullToRefresh\r\n\t\t\tonScroll={handleScroll}\r\n\t\t\tonRefresh={handleRefresh}\r\n\t\t\tisFetching={isFetching}>\r\n\t\t\t{!list.length && !isFetching && <div style={{ display: 'flex', alignItems: 'center', flexDirection: 'column' }}>\r\n\t\t\t\t<Spinner size=\"regular\" style={{ marginTop: 20 }} />\r\n\t\t\t</div>}\r\n\t\t\t{list.length > 0 && <Group title={groupTitle}>\r\n\t\t\t\t{list.map((item, key) => (\r\n\t\t\t\t\t<List key={item.id || key}>\r\n\t\t\t\t\t\t{cloneElement(children, item)}\r\n\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t))}\r\n\t\t\t</Group>}\r\n\t\t\t<Footer>{list.length} {footerNameCount}</Footer>\r\n\t\t</PullToRefresh>\r\n\t);\r\n}\r\n\r\nRefreshList.propTypes = {\r\n\thandleScroll: PropTypes.func,\r\n\thandleRefresh: PropTypes.func.isRequired,\r\n\tisFetching: PropTypes.bool.isRequired,\r\n\tlist: PropTypes.array.isRequired,\r\n\tgroupTitle: PropTypes.string,\r\n\tfooterNameCount: PropTypes.string,\r\n};\r\n\r\nRefreshList.defaultProps = {\r\n\thandleScroll: () => {},\r\n};\r\n\r\nexport default RefreshList;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {\r\n\tPanelHeader,\r\n\tHeaderButton,\r\n\tplatform,\r\n\tIOS\r\n} from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nconst osname = platform();\r\n\r\nconst HeaderPanel = ({\r\n\thandelClick,\r\n\tdataTo,\r\n\ttitle\r\n}) => {\r\n\treturn (\r\n\t\t<PanelHeader\r\n\t\t\tleft={<HeaderButton onClick={handelClick} data-to={dataTo}>\r\n\t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t</HeaderButton>}\r\n\t\t>{title}</PanelHeader>\r\n\t);\r\n}\r\n\r\nHeaderPanel.propTypes = {\r\n\thandelClick: PropTypes.func.isRequired,\r\n\tdataTo: PropTypes.string.isRequired,\r\n\ttitle: PropTypes.string\r\n};\r\n\r\nexport default HeaderPanel;","import React, {useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {Search} from '@vkontakte/vkui';\r\n\r\nimport User from '../components/User';\r\nimport RefreshList from '../components/RefreshList';\r\nimport HeaderPanel from '../components/HeaderPanel';\r\n\r\nconst UsersList = ({\r\n\tgo,\r\n\tusersList,\r\n\thandleScrollBottom,\r\n\thandleFetched,\r\n\r\n\tsearchFilter,\r\n\tisSearch,\r\n\r\n\theaderPanelTitle,\r\n\tfooterNameCount,\r\n\r\n\t...otherProps\r\n}) => {\r\n\tconst [isFetching, setIsFetching] = useState(false);\r\n\tconst [search, setSearch] = useState('');\r\n\tconst [userSearch, setUserSearch] = useState('');\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener('scroll', handleScroll);\r\n\t\thandleFetched(setFetching);\r\n\t}, []);\r\n\r\n\tconst onRefresh = () => {\r\n\t\tsetIsFetching(true);\r\n\t\thandleFetched(setFetching);\r\n\t};\r\n\r\n\tconst setFetching = () => setIsFetching(false);\r\n\r\n\tconst handleScroll = (e) => {\r\n\t\tconst scrollHeight = e.target.documentElement.scrollHeight;\r\n\t\tconst clientHeight = e.target.documentElement.clientHeight;\r\n\t\tconst scrollY = window.pageYOffset + 5;\r\n\t\tif (scrollY >= scrollHeight - clientHeight) {\r\n\t\t\thandleScrollBottom();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSearch = (search) => {\r\n\t\tconst searchUsers = searchFilter(search);\r\n\t\tsetSearch(search);\r\n\t\tsetUserSearch(searchUsers);\r\n\t};\r\n\r\n\tconst handelCloseSearch = () => {\r\n\t\tsetSearch('');\r\n\t\tsetUserSearch('');\r\n\t};\r\n\r\n\treturn(\r\n\t\t<>\r\n\t\t\t<HeaderPanel title={headerPanelTitle} handelClick={go} dataTo='home' />\r\n\t\t\t{usersList.length > 0 && isSearch && <Search value={search} onChange={handleSearch} onClose={handelCloseSearch}/>}\r\n\t\t\t<RefreshList\r\n\t\t\t\thandleScroll={handleScroll}\r\n\t\t\t\thandleRefresh={onRefresh}\r\n\t\t\t\tisFetching={isFetching}\r\n\t\t\t\tlist={!userSearch.length ? usersList : userSearch}\r\n\t\t\t\tfooterNameCount={footerNameCount}\r\n\t\t\t>\r\n\t\t\t\t<User size={36} go={go} {...otherProps} />\r\n\t\t\t</RefreshList>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nUsersList.propTypes = {\r\n\tgo: PropTypes.func.isRequired,\r\n\tusersList: PropTypes.array.isRequired,\r\n\thandleScrollBottom: PropTypes.func.isRequired,\r\n\thandleFetched: PropTypes.func.isRequired,\r\n\r\n\tsearchFilter: PropTypes.func,\r\n\tisSearch: PropTypes.bool,\r\n\r\n\theaderPanelTitle: PropTypes.string,\r\n\tfooterNameCount: PropTypes.string,\r\n};\r\n\r\nUsersList.defaultProps = {\r\n\tisSearch: false,\r\n\tsearchFilter: () => {},\r\n\theaderPanelTitle: '',\r\n\tfooterNameCount: ''\r\n};\r\n\r\nexport default UsersList;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {selectFriends} from '../../store/reducers';\r\nimport {frendsActions} from '../../store/actions';\r\n\r\nimport {Panel} from '@vkontakte/vkui';\r\n\r\nimport UsersList from '../UsersList';\r\n\r\nconst Friends = ({id, go, users, offsetFriends, dispatch}) => {\r\n\tconst {fetchedAllFriends} = frendsActions;\r\n\r\n\tconst handleSearch = (search) => {\r\n\t\treturn users.filter(({first_name, last_name, status, domain}) => {\r\n\t\t\tconst q = `${first_name} ${last_name} ${domain} ${status}`.toLowerCase();\r\n\t\t\treturn q.indexOf(search.toLowerCase()) > -1;\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleScroll = () => {\r\n\t};\r\n\r\n\tconst handleFetched = (setFetching) => {\r\n\t\tif (!users.length){\r\n\t\t\tdispatch(fetchedAllFriends(setFetching));\r\n\t\t}\r\n\t}\r\n\r\n\treturn(\r\n\t\t<Panel id={id}>\r\n\t\t\t<UsersList\r\n\t\t\t\tgo={go}\r\n\t\t\t\tusersList={users}\r\n\t\t\t\thandleScrollBottom={handleScroll}\r\n\t\t\t\thandleFetched={handleFetched}\r\n\t\t\t\tsearchFilter={handleSearch}\r\n\t\t\t\tisSearch={true}\r\n\t\t\t\theaderPanelTitle='Друзья'\r\n\t\t\t\tfooterNameCount='друзей'\r\n\t\t\t/>\r\n\t\t</Panel>\r\n\t);\r\n}\r\n\r\nFriends.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tusers: selectFriends.getFriends(state)\r\n});\r\nexport default connect(mapStateToProps, null)(Friends);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {selectFriends} from '../../store/reducers';\r\nimport {frendsActions} from '../../store/actions';\r\n\r\nimport {Panel} from '@vkontakte/vkui';\r\n\r\nimport UsersList from '../UsersList';\r\n\r\nconst FriendsInInstagram = ({id, go, users, getOffsetInstagramFriends, dispatch}) => {\r\n\tconst {fetchedAllFriends} = frendsActions;\r\n\r\n\tconst handleSearch = (search) => {\r\n\t\treturn users.filter(({first_name, last_name, status, domain}) => {\r\n\t\t\tconst q = `${first_name} ${last_name} ${domain} ${status}`.toLowerCase();\r\n\t\t\treturn q.indexOf(search.toLowerCase()) > -1;\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleScroll = () => {\r\n\t};\r\n\r\n\tconst handleFetched = (setFetching) => {\r\n\t\tif (!users.length){\r\n\t\t\tdispatch(fetchedAllFriends(setFetching));\r\n\t\t}\r\n\t}\r\n\r\n\treturn(\r\n\t\t<Panel id={id}>\r\n\t\t\t<UsersList\r\n\t\t\t\tgo={go}\r\n\t\t\t\tusersList={users}\r\n\t\t\t\thandleScrollBottom={handleScroll}\r\n\t\t\t\thandleFetched={handleFetched}\r\n\t\t\t\tsearchFilter={handleSearch}\r\n\t\t\t\tisSearch={true}\r\n\t\t\t\theaderPanelTitle='Друзья'\r\n\t\t\t\tfooterNameCount='друзей'\r\n\t\t\t\tconnections='instagram'\r\n\t\t\t/>\r\n\t\t</Panel>\r\n\t);\r\n}\r\n\r\nFriendsInInstagram.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tusers: selectFriends.getFriendsInInstagram(state)\r\n});\r\nexport default connect(mapStateToProps, null)(FriendsInInstagram);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {selectFriends} from '../../store/reducers';\r\nimport {frendsActions} from '../../store/actions';\r\n\r\nimport {Panel} from '@vkontakte/vkui';\r\n\r\nimport UsersList from '../UsersList';\r\n\r\nconst BannedFriends = ({id, go, users, getOffsetBannedFriends, dispatch}) => {\r\n\tconst {fetchedAllFriends} = frendsActions;\r\n\r\n\tconst handleSearch = (search) => {\r\n\t\treturn users.filter(({first_name, last_name, status, domain}) => {\r\n\t\t\tconst q = `${first_name} ${last_name} ${domain} ${status}`.toLowerCase();\r\n\t\t\treturn q.indexOf(search.toLowerCase()) > -1;\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleScroll = () => {\r\n\t};\r\n\r\n\tconst handleFetched = (setFetching) => {\r\n\t\tif (!users.length){\r\n\t\t\tdispatch(fetchedAllFriends(setFetching));\r\n\t\t}\r\n\t}\r\n\r\n\treturn(\r\n\t\t<Panel id={id}>\r\n\t\t\t<UsersList\r\n\t\t\t\tgo={go}\r\n\t\t\t\tusersList={users}\r\n\t\t\t\thandleScrollBottom={handleScroll}\r\n\t\t\t\thandleFetched={handleFetched}\r\n\t\t\t\tsearchFilter={handleSearch}\r\n\t\t\t\tisSearch={true}\r\n\t\t\t\theaderPanelTitle='Удаленные/Забаненные'\r\n\t\t\t\tfooterNameCount='количество удаленных и забенных'\r\n\t\t\t/>\r\n\t\t</Panel>\r\n\t);\r\n}\r\n\r\nBannedFriends.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tusers: selectFriends.getBannedFriends(state)\r\n});\r\nexport default connect(mapStateToProps, null)(BannedFriends);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {selectFriends} from '../../store/reducers';\r\nimport {frendsActions} from '../../store/actions';\r\n\r\nimport {Panel} from '@vkontakte/vkui';\r\n\r\nimport UsersList from '../UsersList';\r\n\r\nconst SortLongTime = ({id, go, users, offsetFriends, dispatch}) => {\r\n\tconst {fetchedAllFriends} = frendsActions;\r\n\r\n\tconst handleSearch = (search) => {\r\n\t\treturn users.filter(({first_name, last_name, status, domain}) => {\r\n\t\t\tconst q = `${first_name} ${last_name} ${domain} ${status}`.toLowerCase();\r\n\t\t\treturn q.indexOf(search.toLowerCase()) > -1;\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleScroll = () => {\r\n\t};\r\n\r\n\tconst handleFetched = (setFetching) => {\r\n\t\tif (!users.length){\r\n\t\t\tdispatch(fetchedAllFriends(setFetching));\r\n\t\t}\r\n\t}\r\n\r\n\treturn(\r\n\t\t<Panel id={id}>\r\n\t\t\t<UsersList\r\n\t\t\t\tgo={go}\r\n\t\t\t\tusersList={users}\r\n\t\t\t\thandleScrollBottom={handleScroll}\r\n\t\t\t\thandleFetched={handleFetched}\r\n\t\t\t\tsearchFilter={handleSearch}\r\n\t\t\t\tisSearch={true}\r\n\t\t\t\theaderPanelTitle='Друзья'\r\n\t\t\t\tfooterNameCount='друзей'\r\n\t\t\t\tlongTime\r\n\t\t\t/>\r\n\t\t</Panel>\r\n\t);\r\n}\r\n\r\nSortLongTime.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tusers: selectFriends.getSortLongTime(state)\r\n});\r\nexport default connect(mapStateToProps, null)(SortLongTime);","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {selectFriends} from '../../store/reducers';\r\nimport {frendsActions} from '../../store/actions';\r\n\r\nimport {Panel,Group} from '@vkontakte/vkui';\r\nimport HeaderPanel from '../../components/HeaderPanel';\r\n\r\nimport { LineChart, Line, PieChart, Pie, Sector, Cell, Legend } from 'recharts';\r\n\r\nimport db from './db_friends.json';\r\n\r\nconst COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042'];\r\nconst style = {\r\n\ttop: 0,\r\n\tleft: '3px',\r\n\tlineHeight: '24px'\r\n};\r\n\r\nconst renderCustomizedLabel = ({ cx, cy, midAngle, innerRadius, outerRadius, percent, index }) => {\r\n\tconst RADIAN = Math.PI / 180;\r\n\tconst radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n\tconst x  = cx + radius * Math.cos(-midAngle * RADIAN);\r\n\tconst y = cy  + radius * Math.sin(-midAngle * RADIAN);\r\n\r\n\treturn (<text x={x} y={y} fill=\"white\" textAnchor={x > cx ? 'start' : 'end'} dominantBaseline=\"central\" />);\r\n};\r\n\r\nclass City extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\t// const data = {};\r\n\t\t// const friends = this.props.users;\r\n\t\t// friends.map((item) => {\r\n\t\t// \tif (item.city){\r\n\t\t// \t\tif (data[item.city.id]) {\r\n\t\t// \t\t\tdata[item.city.id].value += 1;\r\n\t\t// \t\t} else {\r\n\t\t// \t\t\tdata[item.city.id] = {\r\n\t\t// \t\t\t\tid: item.city.id,\r\n\t\t// \t\t\t\tname: item.city.title,\r\n\t\t// \t\t\t\tvalue: 1\r\n\t\t// \t\t\t};\r\n\t\t// \t\t}\r\n\t\t// \t}\r\n\t\t// });\r\n\t\t// this.data = Object.values(data);\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\tconst {dispatch} = this.props;\r\n\t\tconst {fetchedAllFriends} = frendsActions;\r\n\t\tdispatch(fetchedAllFriends());\r\n\t}\r\n\r\n\trender () {\r\n\t\tconst {id, go, users} = this.props;\r\n\r\n\t\tconst _data = {};\r\n\t\tusers.map((item) => {\r\n\t\t\tif (item.city){\r\n\t\t\t\tif (_data[item.city.id]) {\r\n\t\t\t\t\t_data[item.city.id].value += 1;\r\n\t\t\t\t\t_data[item.city.id].name = `${item.city.title} - ${_data[item.city.id].value}`;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_data[item.city.id] = {\r\n\t\t\t\t\t\tid: item.city.id,\r\n\t\t\t\t\t\tname: `${item.city.title} - 1`,\r\n\t\t\t\t\t\tvalue: 1\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tconst data = Object.values(_data);\r\n\r\n\t\treturn (\r\n\t\t\t<Panel id={id}>\r\n\t\t\t\t<HeaderPanel title='Города' handelClick={go} dataTo='home' />\r\n\t\t\t\t<Group>\r\n\t\t\t\t\t<PieChart width={320} height={300} onMouseEnter={this.onPieEnter}>\r\n\t\t\t\t\t\t<Pie\r\n\t\t\t\t\t\t\tdataKey='value'\r\n\t\t\t\t\t\t\tdata={data} \r\n\t\t\t\t\t\t\tcx=\"50%\" \r\n\t\t\t\t\t\t\tcy=\"40%\" \r\n\t\t\t\t\t\t\tlabelLine={false}\r\n\t\t\t\t\t\t\tlabel={renderCustomizedLabel}\r\n\t\t\t\t\t\t\touterRadius={60} \r\n\t\t\t\t\t\t\tfill=\"#8884d8\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{data.map((entry, index) => <Cell key={index} fill={COLORS[index % COLORS.length]}/>)}\r\n\t\t\t\t\t\t</Pie>\r\n\t\t\t\t\t\t<Legend \r\n\t\t\t\t\t\t\ticonSize={10}\r\n\t\t\t\t\t\t\ticonType='circle'\r\n\t\t\t\t\t\t\twidth={320}\r\n\t\t\t\t\t\t\theight={5}\r\n\t\t\t\t\t\t\tlayout='vertical'\r\n\t\t\t\t\t\t\tverticalAlign='middle'\r\n\t\t\t\t\t\t\twrapperStyle={style}/>\r\n\t\t\t\t\t</PieChart>\r\n\t\t\t\t</Group>\r\n\t\t\t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nCity.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tusers: selectFriends.getFriends(state)\r\n});\r\nexport default connect(mapStateToProps, null)(City);","import React, {useState} from 'react';\n\nimport {View} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './containers/Home';\nimport Friends from './containers/Friends/Friends';\nimport Instagram from './containers/Friends/Instagram';\nimport BannedFriends from './containers/Friends/BannedFriends';\nimport SortLongTime from './containers/Friends/SortLongTime';\nimport City from './containers/Diagram/City';\n\nconst App = (props) => {\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst go = (e) => setActivePanel(e.currentTarget.dataset.to);\n\n\treturn (\n\t\t<View activePanel={activePanel}>\n\t\t\t<Home id=\"home\" go={go} />\n\t\t\t<Friends id=\"friends\" go={go} />\n\t\t\t<Instagram id=\"friendsInInstagram\" go={go} />\n\t\t\t<BannedFriends id=\"deletedAndBanned\" go={go} />\n\t\t\t<SortLongTime id=\"sortlongtime\" go={go} />\n\t\t\t<City id=\"city\" go={go} />\n\t\t</View>\n\t);\n};\n\nexport default App;","import 'core-js/es6/map';\nimport 'core-js/es6/set';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {createStore, applyMiddleware} from 'redux';\nimport {Provider} from 'react-redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './store/reducers';\n\nimport connect from '@vkontakte/vkui-connect-promise';\nimport App from './App';\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\n\nconst CombineApp = () => (\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>\n);\n\nconnect.send('VKWebAppInit', {});\nReactDOM.render(<CombineApp />, document.getElementById('root'));\n"],"sourceRoot":""}