{"version":3,"sources":["img/persik.png","store/user/actionType.js","store/user/reducer.js","store/reducers.js","panels/Home.js","panels/Persik.js","App.js","store/user/action.js","index.js"],"names":["module","exports","__webpack_require__","p","SET_USER","userInitialState","photo_200","first_name","last_name","city","title","getUser","state","user","combineReducers","userReducer","arguments","length","undefined","action","type","Object","objectSpread","payload","Home","_ref","id","go","fetchedUser","react_default","a","createElement","vkui","before","src","description","concat","size","level","onClick","data-to","osname","platform","Persik","props","left","IOS","chevron_back_default","back_default","className","persik","alt","connect","userSelects","dispatch","_useState","useState","_useState2","slicedToArray","activePanel","setActivePanel","e","currentTarget","dataset","to","useEffect","asyncToGenerator","regenerator_default","mark","_callee","response","data","wrap","_context","prev","next","send","sent","stop","_x","apply","this","panels_Home","src_panels_Persik","store","createStore","rootReducer","compose","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","then","console","log","catch","error","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.22a169ec.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/persik.4e1ec840.png\";","export const SET_USER = 'SET_USER';","import { SET_USER } from './actionType';\r\n\r\nconst userInitialState = {\r\n\tphoto_200: '',\r\n\tfirst_name: 'Вася',\r\n\tlast_name: 'Васечкин',\r\n\tcity: { title: 'New York' }\r\n};\r\n\r\nexport default function user (state = userInitialState, action = {}) {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t};\r\n};\r\n\r\nexport const getUser = (state) => {\r\n\treturn state.user;\r\n};","import {combineReducers} from 'redux';\r\nimport userReducer from './user/reducer';\r\n\r\nexport default combineReducers({\r\n\tuserReducer\r\n});","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Panel, ListItem, Button, Group, Div, Avatar, PanelHeader } from '@vkontakte/vkui';\n\nconst Home = ({ id, go, fetchedUser }) => (\n\t<Panel id={id}>\n\t\t<PanelHeader>Example</PanelHeader>\n\t\t{fetchedUser &&\n\t\t<Group title=\"User Data Fetched with VK Connect\">\n\t\t\t<ListItem\n\t\t\t\tbefore={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\n\t\t\t\tdescription={fetchedUser.city && fetchedUser.city.title ? fetchedUser.city.title : ''}\n\t\t\t>\n\t\t\t\t{`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n\t\t\t</ListItem>\n\t\t</Group>}\n\n\t\t<Group title=\"Navigation Example\">\n\t\t\t<Div>\n\t\t\t\t<Button size=\"xl\" level=\"2\" onClick={go} data-to=\"persik\">\n\t\t\t\t\tShow me the Persik, please 444\n\t\t\t\t</Button>\n\t\t\t</Div>\n\t\t</Group>\n\t</Panel>\n);\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\n\nexport default Home;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Panel, PanelHeader, HeaderButton, platform, IOS} from '@vkontakte/vkui';\nimport persik from '../img/persik.png';\nimport './Persik.css';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nconst osname = platform();\n\nconst Persik = props => (\n\t<Panel id={props.id}>\n\t\t<PanelHeader\n\t\t\tleft={<HeaderButton onClick={props.go} data-to=\"home\">\n\t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t\t</HeaderButton>}\n\t\t>\n\t\t\tPersik\n\t\t</PanelHeader>\n\t\t<img className=\"Persik\" src={persik} alt=\"Persik The Cat\"/>\n\t</Panel>\n);\n\nPersik.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default Persik;\n","import React, {useState, useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport * as userSelects from './store/user/reducer';\nimport * as userAction from './store/user/action';\n\nimport { View } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\nimport Persik from './panels/Persik';\n\n// const fetchedAccesToken = async (setAccessToken) => {\n// \tconst response = await connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6940370, \"scope\": \"friends,status\"});\n// \tconst access_token = await response.data.access_token;\n// \tsetAccessToken(access_token);\n// };\n\nconst App = (props) => {\n\tconst {fetchedUser, dispatch} = props;\n\n\tconst [activePanel, setActivePanel] = useState('home');\n\t// const [accessToken, setAccessToken] = useState('');\n\n\tconst go = (e) => setActivePanel(e.currentTarget.dataset.to);\n\n\tuseEffect(() => {\n\t\tdispatch(userAction.fetchedUser());\n\t}, []);\n\n\treturn (\n\t\t<View activePanel={activePanel}>\n\t\t\t<Home id=\"home\" fetchedUser={fetchedUser} go={go} />\n\t\t\t<Persik id=\"persik\" go={go} />\n\t\t</View>\n\t);\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tfetchedUser: userSelects.getUser(state),\n\t};\n};\n\nexport default connect(mapStateToProps, null)(App);","import {SET_USER} from './actionType';\r\nimport connect from '@vkontakte/vkui-connect-promise';\r\n\r\nexport const fetchedUser = () => async (dispatch) => {\r\n\tconst response = await connect.send(\"VKWebAppGetUserInfo\", {});;\r\n\tconst data = await response.data;\r\n\tdispatch({type: SET_USER, payload: data});\r\n};","import 'core-js/es6/map';\nimport 'core-js/es6/set';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {createStore, applyMiddleware, compose} from 'redux';\nimport {Provider} from 'react-redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './store/reducers';\n\nimport connect from '@vkontakte/vkui-connect-promise';\nimport App from './App';\n\nconst store = createStore(rootReducer, compose(\n\t\tapplyMiddleware(thunk),\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n\t)\n);\n\nconst CombineApp = () => (\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>\n);\n\nconnect.send('VKWebAppInit', {}) \n\t.then(data => console.log('SUCCESS:', data))\n\t.catch(error => console.log('ERR:', error));\n\nReactDOM.render(<CombineApp />, document.getElementById('root'));\n"],"sourceRoot":""}