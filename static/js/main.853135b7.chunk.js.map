{"version":3,"sources":["api/index.js","panels/Home.js","panels/VueDefault.js","panels/VueFriends.js","panels/VueMyLikes.js","panels/VueAuthorization.js","panels/VueOutgoingRequests.js","App.js","index.js"],"names":["API","method","opt","fetchJsonp","urlOpts","Object","keys","forEach","item","concat","getProfilesUrl","then","res","json","catch","error","console","Users","opts","Friends","Likes","Home","_ref","id","go","fetchedUser","react_default","a","createElement","vkui","title","before","photo_200","src","description","city","first_name","last_name","size","level","onClick","data-to","VueDefault","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","left","osname","IOS","chevron_back_default","back_default","React","Component","VueFriends","progress","countFriends","isDelAllFriends","usersInfo","isPreloader","_this2","offsetFriendsInterval","isClearInterval","friendsInterval","setInterval","clearInterval","count","offset","access_token","data","setState","response","getUsersInfo","items","length","_state$usersInfo","push","apply","toConsumableArray","forceUpdate","e","ids","strFriendsIds","slice","join","user_ids","fields","user_id","_this3","indexDelFriend","findIndex","splice","_this4","intervalDeleteAllFriends","interval","subscribersInterval","getFriends","_this5","prev","bind","style","display","zIndex","stretched","marginRight","deleteAllFriends","cancelDelFriends","value","margin","map","friend","index","status","photo_200_orig","bottomContent","deleteFriend","key","activeTab4","postsLikes","progressCount","progressStart","isSpinner","isProgress","getLikesInterval","_state$postsLikes","delLikesInterval","type","owner_id","item_id","getLikesPosts","deleteAllLikes","cancelDelLikes","activeView","defaultValue","VueOutgoingRequests","countOutgoingRequests","offsetSubscribersInterval","out","getOutgoingRequests","App","activePanel","currentTarget","dataset","to","getUserInfo","token","panels_Home","panels_VueDefault","panels_VueFriends","panels_VueOutgoingRequests","VueMyLikes","VueAuthorization","connect","send","log","ReactDOM","render","src_App","document","getElementById"],"mappings":"gRASMA,EAAM,SAACC,EAAQC,GACjB,OAAOC,IARY,SAACF,EAAQC,GAC5B,IAAIE,EAAU,GAGd,OAFcC,OAAOC,KAAKJ,GAClBK,QAAQ,SAAAC,GAAI,OAAIJ,GAAO,GAAAK,OAAOD,EAAP,KAAAC,OAAeP,EAAIM,GAAnB,OAC/B,6BAAAC,OAAoCR,EAApC,KAAAQ,OAA8CL,EAA9C,UAIkBM,CAAeT,EAAQC,IACtCS,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBC,MAAM,SAAAC,GAAK,OAAIC,QAAQD,MAAMA,MAS9BE,EAAQ,SACAC,GAEN,OAAOlB,EADQ,YACIkB,IAQrBC,EAAU,SACAD,GAER,OAAOlB,EADQ,cACIkB,IAHrBC,EAAU,SAKCD,GAET,OAAOlB,EADQ,sBACIkB,IAPrBC,EAAU,SASGD,GAEX,OAAOlB,EADQ,iBACIkB,IAIrBE,EAAQ,SACIF,GAEV,OAAOlB,EADQ,gBACIkB,IAHrBE,EAAQ,SASEF,GAER,OAAOlB,EADQ,eACIkB,ICSZG,EA7DF,SAAAC,GAAA,IAAEC,EAAFD,EAAEC,GAAIC,EAANF,EAAME,GAAIC,EAAVH,EAAUG,YAAV,OACTC,EAAAC,EAAAC,cAACC,EAAA,MAAD,CAAON,GAAIA,GACPG,EAAAC,EAAAC,cAACC,EAAA,YAAD,4EACCJ,GACDC,EAAAC,EAAAC,cAACC,EAAA,MAAD,CAAOC,MAAM,8CACTJ,EAAAC,EAAAC,cAACC,EAAA,SAAD,CACIE,OAAQN,EAAYO,UAAYN,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQI,IAAKR,EAAYO,YAAe,KACxEE,YAAaT,EAAYU,MAAQV,EAAYU,KAAKL,MAAQL,EAAYU,KAAKL,MAAQ,IAFvF,GAAArB,OAIQgB,EAAYW,WAJpB,KAAA3B,OAIkCgB,EAAYY,aAIlDX,EAAAC,EAAAC,cAACC,EAAA,MAAD,CAAOC,MAAM,iEACTJ,EAAAC,EAAAC,cAACC,EAAA,IAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQS,KAAK,KAAKC,MAAM,IAAIC,QAAShB,EAAIiB,UAAQ,iBAAjD,mEAKRf,EAAAC,EAAAC,cAACC,EAAA,MAAD,CAAOC,MAAM,8MACTJ,EAAAC,EAAAC,cAACC,EAAA,IAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQS,KAAK,KAAKC,MAAM,IAAIC,QAAShB,EAAIiB,UAAQ,WAAjD,yCAIJf,EAAAC,EAAAC,cAACC,EAAA,IAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQS,KAAK,KAAKC,MAAM,IAAIC,QAAShB,EAAIiB,UAAQ,eAAjD,gGAIJf,EAAAC,EAAAC,cAACC,EAAA,IAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQS,KAAK,KAAKC,MAAM,IAAIC,QAAShB,EAAIiB,UAAQ,WAAjD,kEAKRf,EAAAC,EAAAC,cAACC,EAAA,MAAD,CAAOC,MAAM,gJACTJ,EAAAC,EAAAC,cAACC,EAAA,IAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQS,KAAK,KAAKC,MAAM,IAAIC,QAAShB,EAAIiB,UAAQ,YAAjD,2FCLDC,cA9BX,SAAAA,EAAaC,GAAO,IAAAC,EAAA,OAAAvC,OAAAwC,EAAA,EAAAxC,CAAAyC,KAAAJ,IAChBE,EAAAvC,OAAA0C,EAAA,EAAA1C,CAAAyC,KAAAzC,OAAA2C,EAAA,EAAA3C,CAAAqC,GAAAO,KAAAH,KAAMH,KACDO,MAAQ,GAFGN,qHAUhB,OACIlB,EAAAC,EAAAC,cAACC,EAAA,MAAD,CAAON,GAAIuB,KAAKH,MAAMpB,IAClBG,EAAAC,EAAAC,cAACC,EAAA,YAAD,CACIsB,KAAMzB,EAAAC,EAAAC,cAACC,EAAA,aAAD,CAAcW,QAASM,KAAKH,MAAMnB,GAAIiB,UAAQ,QAC/CK,KAAKM,SAAWC,MAAM3B,EAAAC,EAAAC,cAAC0B,EAAA3B,EAAD,MAAuBD,EAAAC,EAAAC,cAAC2B,EAAA5B,EAAD,QAFtD,mHAbS6B,IAAMC,mBCsLhBC,cAxKX,SAAAA,EAAaf,GAAO,IAAAC,EAAA,OAAAvC,OAAAwC,EAAA,EAAAxC,CAAAyC,KAAAY,IAChBd,EAAAvC,OAAA0C,EAAA,EAAA1C,CAAAyC,KAAAzC,OAAA2C,EAAA,EAAA3C,CAAAqD,GAAAT,KAAAH,KAAMH,KACDO,MAAQ,CACTS,SAAU,EACVC,aAAc,EACdC,iBAAiB,EACjBC,UAAW,GACXC,aAAa,GAPDnB,4EAWN,IAAAoB,EAAAlB,KACNmB,EAAwB,EACxBC,GAAkB,EACtBpB,KAAKqB,gBAAkBC,YAAY,WAC3BF,GAAiBG,cAAcL,EAAKG,iBAExChD,EAAmB,CACfmD,MAAO,IACPC,OAAQN,EACRO,aAAcR,EAAKrB,MAAM6B,eAExB7D,KAAK,SAAA8D,GACFR,GAAyB,IACzBD,EAAKU,SAAS,CAACd,aAAca,EAAKE,SAASL,QAC3CN,EAAKY,aAAaH,EAAKE,SAASE,OAC3BlE,KAAK,SAAA8D,GACEA,EAAK1D,MACLC,QAAQD,MAAM,uCAAU0D,EAAK1D,QAE7BmD,GAAmBO,EAAKE,SAASG,OACjCd,EAAKU,SAAS,SAACxB,GAAU,IAAA6B,GACrBA,EAAA7B,EAAMY,WAAUkB,KAAhBC,MAAAF,EAAA1E,OAAA6E,EAAA,EAAA7E,CAAwBoE,EAAKE,WAC7BzB,EAAMU,aAAea,EAAKH,MAC1BpB,EAAMa,aAAc,IAExBC,EAAKmB,iBAGZrE,MAAM,SAAAsE,GAAC,OAAIpE,QAAQD,MAAMqE,OAEjCtE,MAAM,SAAAsE,GAAC,OAAIpE,QAAQD,MAAMqE,MAC/B,0CAGOC,GACV,IAAMC,EAAgBD,EAAIE,MAAM,EAAG,KAAKC,KAAK,KAC7C,OAAOvE,EAAe,CAClBwE,SAAUH,EACVI,OAAQ,wBACRlB,aAAc1B,KAAKH,MAAM6B,oDAInBmB,GAAS,IAAAC,EAAA9C,KACnB,OAAO,WACH3B,EAAsB,CAClBwE,UACAnB,aAAcoB,EAAKjD,MAAM6B,eAExB7D,KAAK,SAAA8D,GACF,GAAIA,EAAK1D,MACLC,QAAQD,MAAM,wFAAmB0D,EAAK1D,WACnC,CACH,IAAM8E,EAAiBD,EAAK1C,MAAMY,UAAUgC,UAAU,SAAAtF,GAAI,OAAIA,EAAKe,KAAOoE,IAC1EC,EAAK1C,MAAMY,UAAUiC,OAAOF,EAAgB,GAC5CD,EAAKT,iBAGZrE,MAAM,SAAAsE,GAAC,OAAIpE,QAAQD,MAAMqE,iDAIlB,IAAAY,EAAAlD,KACVoB,GAAmBpB,KAAKI,MAAMY,UAAUgB,OAC9ChC,KAAK4B,SAAS,CAACb,iBAAiB,IAChCf,KAAKmD,yBAA2B7B,YAAY,WACpCF,GAAiBG,cAAc2B,EAAKC,0BAExC9E,EAAsB,CAClBwE,QAASK,EAAK9C,MAAMY,UAAU,GAAGvC,GACjCiD,aAAcwB,EAAKrD,MAAM6B,eAExB7D,KAAK,SAAA8D,GACEA,EAAK1D,MACLC,QAAQD,MAAM,wFAAmB0D,EAAK1D,QAEtCiF,EAAK9C,MAAMY,UAAUiC,OAAO,EAAG,GAC/BC,EAAKtB,SAAS,SAAAxB,GAAK,OAAIA,EAAMS,aAC7BqC,EAAKb,iBAGZrE,MAAM,SAAAsE,GAAC,OAAIpE,QAAQD,MAAMqE,MAC/B,gDAIHf,cAAcvB,KAAKoD,UACnBpD,KAAK4B,SAAS,CAACb,iBAAiB,iCAG9BuB,GACFf,cAAcvB,KAAKqD,qBACnB9B,cAAcvB,KAAKqB,iBACnBrB,KAAKH,MAAMnB,GAAG4D,+CAIdtC,KAAKsD,8CAGC,IAAAC,EAAAvD,KACN,OACIpB,EAAAC,EAAAC,cAACC,EAAA,MAAD,CAAON,GAAIuB,KAAKH,MAAMpB,IAClBG,EAAAC,EAAAC,cAACC,EAAA,YAAD,CACIsB,KAAMzB,EAAAC,EAAAC,cAACC,EAAA,aAAD,CAAcW,QAASM,KAAKwD,KAAKC,KAAKzD,MAAOL,UAAQ,QACtDK,KAAKM,SAAWC,MAAM3B,EAAAC,EAAAC,cAAC0B,EAAA3B,EAAD,MAAuBD,EAAAC,EAAAC,cAAC2B,EAAA5B,EAAD,QAFtD,wCAOAD,EAAAC,EAAAC,cAACC,EAAA,MAAD,CAAOC,MAAM,IACTJ,EAAAC,EAAAC,cAACC,EAAA,IAAD,CAAK2E,MAAO,CAACC,QAAS,OAAQC,OAAQ,MAClChF,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQS,KAAK,IAAIqE,WAAS,EAACH,MAAO,CAACI,YAAa,GAAIpE,QAASM,KAAK+D,iBAAiBN,KAAKzD,OAAxF,uEAEApB,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQS,KAAK,IAAIqE,WAAS,EAACpE,MAAM,YACzBC,QAASM,KAAKgE,iBAAiBP,KAAKzD,OAD5C,yCAIAA,KAAKI,MAAMW,iBACXnC,EAAAC,EAAAC,cAACC,EAAA,KAAD,CAAMK,YAAW,8CAAAzB,OAAaqC,KAAKI,MAAMS,SAAxB,OAAAlD,OAAsCqC,KAAKI,MAAMU,eAC9DlC,EAAAC,EAAAC,cAACC,EAAA,SAAD,CAAUkF,MAAOjE,KAAKI,MAAMS,aAIxCjC,EAAAC,EAAAC,cAACC,EAAA,MAAD,CAAOC,MAAK,wCAAArB,OAAYqC,KAAKI,MAAMY,UAAUgB,SAErChC,KAAKI,MAAMa,aACXrC,EAAAC,EAAAC,cAACC,EAAA,KAAD,CAAMS,KAAK,KACPZ,EAAAC,EAAAC,cAACC,EAAA,QAAD,CAASS,KAAK,QAAQkE,MAAO,CAACQ,OAAQ,cAI1ClE,KAAKI,MAAMY,UAAUmD,IAAI,SAACC,EAAQC,GAC9B,OACIzF,EAAAC,EAAAC,cAACC,EAAA,KAAD,CACIS,KAAK,IACLJ,YAAagF,EAAOE,QAAU,iHAC9BrF,OAAQL,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQI,IAAKiF,EAAOG,iBAC5BC,cAAe5F,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQW,QAAS6D,EAAKkB,aAAaL,EAAO3F,KAA1C,8CACfiG,IAAKL,GALT,GAAA1G,OAOQyG,EAAO9E,WAPf,KAAA3B,OAO6ByG,EAAO7E,uBAzJ3CmB,IAAMC,WCgIhBC,cAhIX,SAAAA,EAAaf,GAAO,IAAAC,EAAA,OAAAvC,OAAAwC,EAAA,EAAAxC,CAAAyC,KAAAY,IAChBd,EAAAvC,OAAA0C,EAAA,EAAA1C,CAAAyC,KAAAzC,OAAA2C,EAAA,EAAA3C,CAAAqD,GAAAT,KAAAH,KAAMH,KACDO,MAAQ,CACTuE,WAAY,OACZC,WAAY,GACZC,cAAe,EACfC,cAAe,EACfC,WAAW,EACXC,YAAY,GARAlF,+EAYH,IAAAoB,EAAAlB,KAETyB,EAAS,EACbzB,KAAKiF,iBAAmB3D,YAAY,WAChChD,EAAmB,CACfkD,MAJI,IAKJC,OAAQA,EACRC,aAAcR,EAAKrB,MAAM6B,eAExB7D,KAAK,SAAAC,GACEA,EAAIG,MACJC,QAAQD,MAAM,mIAA2BH,GACjCA,EAAI+D,SAASE,MAAMC,QAI3Bd,EAAKU,SAAS,SAACxB,GAAU,IAAA8E,GACrBA,EAAA9E,EAAMwE,YAAW1C,KAAjBC,MAAA+C,EAAA3H,OAAA6E,EAAA,EAAA7E,CAAyBO,EAAI+D,SAASE,QACtC3B,EAAM0E,cAAgB1E,EAAMwE,WAAW5C,SAE3CP,GAnBJ,IAoBIP,EAAKmB,gBARLd,cAAcL,EAAK+D,kBACnB/D,EAAKU,SAAS,CAACmD,WAAW,OAUjC/G,MAAM,SAAAsE,GAAC,OAAIpE,QAAQD,MAAMqE,MAC/B,8CAGW,IAAAQ,EAAA9C,KACdA,KAAKmF,iBAAmB7D,YAAY,WAC3BwB,EAAK1C,MAAMwE,WAAW5C,OAGvB1D,EAAiB,CACb8G,KAAM,OACNC,SAAUvC,EAAK1C,MAAMwE,WAAW,GAAGS,SACnCC,QAASxC,EAAK1C,MAAMwE,WAAW,GAAGnG,GAClCiD,aAAcoB,EAAKjD,MAAM6B,eAExB7D,KAAK,SAAAC,GACEA,EAAIG,MACJC,QAAQD,MAAM,wFAAmBH,EAAIG,QAErC6E,EAAK1C,MAAMwE,WAAW3B,OAAO,EAAG,GAChCH,EAAKlB,SAAS,SAAAxB,GACVA,EAAMyE,gBACNzE,EAAM4E,YAAa,IAGvBlC,EAAKT,iBAGZrE,MAAM,SAAAsE,GAAC,OAAIpE,QAAQD,MAAMqE,KArB9Bf,cAAcuB,EAAKqC,mBAuBxB,8CAIH5D,cAAcvB,KAAKmF,+CAGjB7C,GACFf,cAAcvB,KAAKiF,kBACnB1D,cAAcvB,KAAKmF,kBACnBnF,KAAKH,MAAMnB,GAAG4D,+CAIdtC,KAAKuF,iDAIL,OACI3G,EAAAC,EAAAC,cAACC,EAAA,MAAD,CAAON,GAAIuB,KAAKH,MAAMpB,IAClBG,EAAAC,EAAAC,cAACC,EAAA,YAAD,CACIsB,KAAMzB,EAAAC,EAAAC,cAACC,EAAA,aAAD,CAAcW,QAASM,KAAKwD,KAAKC,KAAKzD,MAAOL,UAAQ,QACtDK,KAAKM,SAAWC,MAAM3B,EAAAC,EAAAC,cAAC0B,EAAA3B,EAAD,MAAuBD,EAAAC,EAAAC,cAAC2B,EAAA5B,EAAD,QAFtD,qDAOAD,EAAAC,EAAAC,cAACC,EAAA,MAAD,CAAOC,MAAM,IACTJ,EAAAC,EAAAC,cAACC,EAAA,IAAD,CAAK2E,MAAO,CAACC,QAAS,OAAQC,OAAQ,MAClChF,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQS,KAAK,IAAIqE,WAAS,EAACH,MAAO,CAACI,YAAa,GAAIpE,QAASM,KAAKwF,eAAe/B,KAAKzD,OAAtF,oFAEApB,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQS,KAAK,IAAIqE,WAAS,EAACpE,MAAM,YACzBC,QAASM,KAAKyF,eAAehC,KAAKzD,OAD1C,yCAIAA,KAAKI,MAAMwE,YACX5E,KAAKI,MAAM4E,YACXpG,EAAAC,EAAAC,cAACC,EAAA,KAAD,CAAMK,YAAW,8CAAAzB,OAAaqC,KAAKI,MAAMyE,cAAxB,OAAAlH,OAA2CqC,KAAKI,MAAM0E,gBACnElG,EAAAC,EAAAC,cAACC,EAAA,SAAD,CAAUkF,MAAOjE,KAAKI,MAAMyE,kBAIxCjG,EAAAC,EAAAC,cAACC,EAAA,MAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,IAAD,mEACkBH,EAAAC,EAAAC,cAAA,WADlB,8CAEakB,KAAKI,MAAM0E,cAFxB,wCAIQ9E,KAAKI,MAAM2E,WACXnG,EAAAC,EAAAC,cAACC,EAAA,QAAD,CAASS,KAAK,SAASkE,MAAO,CAAEQ,OAAQ,gBAnH3CxD,IAAMC,WCsBhBf,cAlCX,SAAAA,EAAaC,GAAO,IAAAC,EAAA,OAAAvC,OAAAwC,EAAA,EAAAxC,CAAAyC,KAAAJ,IAChBE,EAAAvC,OAAA0C,EAAA,EAAA1C,CAAAyC,KAAAzC,OAAA2C,EAAA,EAAA3C,CAAAqC,GAAAO,KAAAH,KAAMH,KACDO,MAAQ,CACTsF,WAAY,IAHA5F,qHAYhB,OACIlB,EAAAC,EAAAC,cAACC,EAAA,MAAD,CAAON,GAAIuB,KAAKH,MAAMpB,IAClBG,EAAAC,EAAAC,cAACC,EAAA,YAAD,CACIsB,KAAMzB,EAAAC,EAAAC,cAACC,EAAA,aAAD,CAAcW,QAASM,KAAKH,MAAMnB,GAAIiB,UAAQ,QAC/CK,KAAKM,SAAWC,MAAM3B,EAAAC,EAAAC,cAAC0B,EAAA3B,EAAD,MAAuBD,EAAAC,EAAAC,cAAC2B,EAAA5B,EAAD,QAFtD,2GAOAD,EAAAC,EAAAC,cAACC,EAAA,MAAD,KACIH,EAAAC,EAAAC,cAACC,EAAA,MAAD,CAAOqG,KAAK,OAAOO,aAAa,yCAChC/G,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQU,MAAM,aAAd,sBAxBKiB,IAAMC,WC+JhBiF,cA5Jd,SAAAA,EAAY/F,GAAO,IAAAC,EAAA,OAAAvC,OAAAwC,EAAA,EAAAxC,CAAAyC,KAAA4F,IAClB9F,EAAAvC,OAAA0C,EAAA,EAAA1C,CAAAyC,KAAAzC,OAAA2C,EAAA,EAAA3C,CAAAqI,GAAAzF,KAAAH,KAAMH,KACDO,MAAQ,CACZS,SAAU,EACVE,iBAAiB,EACjB8E,sBAAuB,EACvB7E,UAAW,GACXC,aAAa,GAPInB,qFAUI,IAAAoB,EAAAlB,KAClB8F,EAA4B,EAC5B1E,GAAkB,EACtBpB,KAAKqD,oBAAsB/B,YAAY,WAClCF,GAAiBG,cAAcL,EAAKmC,qBAExChF,EAAoB,CACnBmD,MAAO,IACPC,OAAQqE,EACRC,IAAK,EACLrE,aAAcR,EAAKrB,MAAM6B,eAEzB7D,KAAK,SAAA8D,GACLmE,GAA6B,IAC7B5E,EAAKU,SAAS,CAACiE,sBAAuBlE,EAAKE,SAASL,QACpDN,EAAKY,aAAaH,EAAKE,SAASE,OAC9BlE,KAAK,SAAA8D,GACFA,EAAK1D,MACPC,QAAQD,MAAM,uCAAU0D,EAAK1D,QAE7BmD,GAAmBO,EAAKE,SAASG,OACjCd,EAAKU,SAAS,SAACxB,GAAU,IAAA6B,GACxBA,EAAA7B,EAAMY,WAAUkB,KAAhBC,MAAAF,EAAA1E,OAAA6E,EAAA,EAAA7E,CAAwBoE,EAAKE,WAC7BzB,EAAMa,aAAc,IAErBC,EAAKmB,iBAGNrE,MAAM,SAAAsE,GAAC,OAAIpE,QAAQD,MAAMqE,OAE3BtE,MAAM,SAAAsE,GAAC,OAAIpE,QAAQD,MAAMqE,MACxB,0CAEUC,GACb,IAAMC,EAAgBD,EAAIE,MAAM,EAAG,KAAKC,KAAK,KAC7C,OAAOvE,EAAe,CACrBwE,SAAUH,EACVI,OAAQ,wBACRlB,aAAc1B,KAAKH,MAAM6B,oDAGbmB,GAAS,IAAAC,EAAA9C,KACtB,OAAO,WACN3B,EAAsB,CACrBwE,UACAnB,aAAcoB,EAAKjD,MAAM6B,eAEzB7D,KAAK,SAAA8D,GACL,GAAGA,EAAK1D,MACPC,QAAQD,MAAM,wFAAmB0D,EAAK1D,WAChC,CACN,IAAM8E,EAAiBD,EAAK1C,MAAMY,UAAUgC,UAAU,SAAAtF,GAAI,OAAIA,EAAKe,KAAOoE,IAC1EC,EAAK1C,MAAMY,UAAUiC,OAAOF,EAAgB,GAC5CD,EAAKT,iBAGNrE,MAAM,SAAAsE,GAAC,OAAIpE,QAAQD,MAAMqE,iDAGR,IAAAY,EAAAlD,KACboB,GAAmBpB,KAAKI,MAAMY,UAAUgB,OAC9ChC,KAAK4B,SAAS,CAACb,iBAAiB,IAChCf,KAAKmD,yBAA2B7B,YAAY,WACvCF,GAAiBG,cAAc2B,EAAKC,0BAExC9E,EAAsB,CACrBwE,QAASK,EAAK9C,MAAMY,UAAU,GAAGvC,GACjCiD,aAAcwB,EAAKrD,MAAM6B,eAEzB7D,KAAK,SAAA8D,GACFA,EAAK1D,MACPC,QAAQD,MAAM,wFAAmB0D,EAAK1D,QAEtCiF,EAAK9C,MAAMY,UAAUiC,OAAO,EAAG,GAC/BC,EAAKtB,SAAS,SAAAxB,GAAK,OAAIA,EAAMS,aAC7BqC,EAAKb,iBAGNrE,MAAM,SAAAsE,GAAC,OAAIpE,QAAQD,MAAMqE,MACxB,gDAGHf,cAAcvB,KAAKoD,UACnBpD,KAAK4B,SAAS,CAACb,iBAAiB,iCAE3BuB,GACLf,cAAcvB,KAAKqD,qBACnB9B,cAAcvB,KAAKmD,0BACnBnD,KAAKH,MAAMnB,GAAG4D,+CAGdtC,KAAKgG,uDAEG,IAAAzC,EAAAvD,KACR,OACCpB,EAAAC,EAAAC,cAACC,EAAA,MAAD,CAAON,GAAIuB,KAAKH,MAAMpB,IACrBG,EAAAC,EAAAC,cAACC,EAAA,YAAD,CACCsB,KAAMzB,EAAAC,EAAAC,cAACC,EAAA,aAAD,CAAcW,QAASM,KAAKwD,KAAKC,KAAKzD,MAAOL,UAAQ,QACzDK,KAAKM,SAAWC,MAAM3B,EAAAC,EAAAC,cAAC0B,EAAA3B,EAAD,MAAuBD,EAAAC,EAAAC,cAAC2B,EAAA5B,EAAD,QAFhD,+FAOAD,EAAAC,EAAAC,cAACC,EAAA,MAAD,CAAOC,MAAM,IACZJ,EAAAC,EAAAC,cAACC,EAAA,IAAD,CAAK2E,MAAO,CAACC,QAAS,OAAQC,OAAQ,MACrChF,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQS,KAAK,IAAIqE,WAAS,EAACH,MAAO,CAAEI,YAAa,GAAKpE,QAASM,KAAK+D,iBAAiBN,KAAKzD,OAA1F,oFACApB,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQS,KAAK,IAAIqE,WAAS,EAACpE,MAAM,YAAYC,QAASM,KAAKgE,iBAAiBP,KAAKzD,OAAjF,yCAEAA,KAAKI,MAAMW,iBACXnC,EAAAC,EAAAC,cAACC,EAAA,KAAD,CAAMK,YAAW,oDAAAzB,OAAcqC,KAAKI,MAAMS,SAAzB,OAAAlD,OAAuCqC,KAAKI,MAAMyF,wBAClEjH,EAAAC,EAAAC,cAACC,EAAA,SAAD,CAAUkF,MAAOjE,KAAKI,MAAMS,aAI/BjC,EAAAC,EAAAC,cAACC,EAAA,MAAD,CAAOC,MAAK,2IAAArB,OAA+BqC,KAAKI,MAAMY,UAAUgB,SAC7DhC,KAAKI,MAAMa,aACZrC,EAAAC,EAAAC,cAACC,EAAA,KAAD,CAAMS,KAAK,KACVZ,EAAAC,EAAAC,cAACC,EAAA,QAAD,CAASS,KAAK,QAAQkE,MAAO,CAAEQ,OAAQ,cAIxClE,KAAKI,MAAMY,UAAUmD,IAAI,SAACC,EAAQC,GACjC,OACCzF,EAAAC,EAAAC,cAACC,EAAA,KAAD,CACCS,KAAK,IACLJ,YAAagF,EAAOE,QAAU,iHAC9BrF,OAAQL,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQI,IAAKiF,EAAOG,iBAC5BC,cAAe5F,EAAAC,EAAAC,cAACC,EAAA,OAAD,CAAQW,QAAS6D,EAAKkB,aAAaL,EAAO3F,KAA1C,yFACfiG,IAAKL,GALN,GAAA1G,OAOIyG,EAAO9E,WAPX,KAAA3B,OAOyByG,EAAO7E,uBA7INmB,IAAMC,WC6EzBsF,cApEX,SAAAA,EAAapG,GAAO,IAAAC,EAAA,OAAAvC,OAAAwC,EAAA,EAAAxC,CAAAyC,KAAAiG,IAChBnG,EAAAvC,OAAA0C,EAAA,EAAA1C,CAAAyC,KAAAzC,OAAA2C,EAAA,EAAA3C,CAAA0I,GAAA9F,KAAAH,KAAMH,KAyBVnB,GAAK,SAAC4D,GACFxC,EAAK8B,SAAS,CAACsE,YAAa5D,EAAE6D,cAAcC,QAAQC,MAxBpDvG,EAAKM,MAAQ,CACTsF,WAAY,QACZQ,YAAa,OACbvH,YAAa,KACb+C,aAAc,yFAPF5B,mFAYhBE,KAAKsG,oDAGM,IAAApF,EAAAlB,KACX7B,EAAe,CACXyE,OAAQ,wBACRlB,aAAc1B,KAAKI,MAAMsB,eAExB7D,KAAK,SAAA8D,GACFT,EAAKU,SAAS,CAACjD,YAAagD,EAAKE,SAAS,OAE7C7D,MAAM,SAAAsE,GAAC,OAAIpE,QAAQD,MAAMqE,4CAOlBiE,GACZvG,KAAK4B,SAAS,CAACF,aAAc6E,qCAI7B,OACI3H,EAAAC,EAAAC,cAACC,EAAA,KAAD,CAAMN,GAAG,QAAQyH,YAAalG,KAAKI,MAAM8F,aACrCtH,EAAAC,EAAAC,cAAC0H,EAAD,CAAM/H,GAAG,OAAOE,YAAaqB,KAAKI,MAAMzB,YAAaD,GAAIsB,KAAKtB,GACxDgD,aAAc1B,KAAKI,MAAMsB,eAC/B9C,EAAAC,EAAAC,cAAC2H,EAAD,CACIhI,GAAG,UACHC,GAAIsB,KAAKtB,GACTgD,aAAc1B,KAAKI,MAAMsB,eAE7B9C,EAAAC,EAAAC,cAAC4H,EAAD,CACIjI,GAAG,UACHC,GAAIsB,KAAKtB,GACTgD,aAAc1B,KAAKI,MAAMsB,eAE7B9C,EAAAC,EAAAC,cAAC6H,EAAD,CACIlI,GAAG,cACHC,GAAIsB,KAAKtB,GACTgD,aAAc1B,KAAKI,MAAMsB,eAE7B9C,EAAAC,EAAAC,cAAC8H,EAAD,CACInI,GAAG,WACHC,GAAIsB,KAAKtB,GACTgD,aAAc1B,KAAKI,MAAMsB,eAE7B9C,EAAAC,EAAAC,cAAC+H,EAAD,CACIpI,GAAG,gBACHC,GAAIsB,KAAKtB,aA9DXgC,IAAMC,WCLxBmG,IAAQC,KAAK,eAAgB,IACxBlJ,KAAK,SAAA8D,GAAI,OAAIzD,QAAQ8I,IAAI,wBAAyBrF,KAClD3D,MAAM,SAAAsE,GAAC,OAAIpE,QAAQD,MAAM,sBAAuBqE,KAQrD2E,IAASC,OAAOtI,EAAAC,EAAAC,cAACqI,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.853135b7.chunk.js","sourcesContent":["import fetchJsonp from 'fetch-jsonp';\r\n\r\nconst getProfilesUrl = (method, opt) => {\r\n    let urlOpts = '';\r\n    let optKeys = Object.keys(opt);\r\n    optKeys.forEach(item => urlOpts += `${item}=${opt[item]}&`);\r\n    return `https://api.vk.com/method/${method}?${urlOpts}v=5.80`\r\n};\r\n\r\nconst API = (method, opt) => {\r\n    return fetchJsonp(getProfilesUrl(method, opt))\r\n      .then(res => res.json())\r\n      .catch(error => console.error(error));\r\n};\r\nconst Account = {\r\n    getInfo (opts) {\r\n        const method = 'account.getInfo';\r\n        return API(method, opts);\r\n    }\r\n};\r\n\r\nconst Users = {\r\n    getUsers (opts) {\r\n        const method = 'users.get';\r\n        return API(method, opts);\r\n    },\r\n    getFollowers (opts) {\r\n        const method = 'users.getFollowers';\r\n        return API(method, opts);\r\n    }\r\n};\r\n\r\nconst Friends = {\r\n    getFriends (opts) {\r\n        const method = 'friends.get';\r\n        return API(method, opts);\r\n    },\r\n    getRequests (opts) {\r\n        const method = 'friends.getRequests';\r\n        return API(method, opts);\r\n    },\r\n    deleteFriends (opts) {\r\n        const method = 'friends.delete';\r\n        return API(method, opts);\r\n    }\r\n};\r\n\r\nconst Likes = {\r\n    getLikePosts (opts) {\r\n        const method = 'fave.getPosts';\r\n        return API(method, opts);\r\n    },\r\n    getLikePhotos (opts) {\r\n        const method = 'fave.getPhotos';\r\n        return API(method, opts);\r\n    },\r\n    deleteLike (opts) {\r\n        const method = 'likes.delete';\r\n        return API(method, opts);\r\n    }\r\n};\r\n\r\nexport {\r\n    Account,\r\n    Users,\r\n    Friends,\r\n    Likes\r\n};","import {Panel, ListItem, Button, Group, Div, Avatar, PanelHeader} from '@vkontakte/vkui';\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nconst Home = ({id, go, fetchedUser}) => (\n    <Panel id={id}>\n        <PanelHeader>ВК Настройки</PanelHeader>\n        {fetchedUser &&\n        <Group title=\"Аккаунт\">\n            <ListItem\n                before={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\n                description={fetchedUser.city && fetchedUser.city.title ? fetchedUser.city.title : ''}\n            >\n                {`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n            </ListItem>\n        </Group>\n        }\n        <Group title=\"Получите access token\">\n            <Div>\n                <Button size=\"xl\" level=\"2\" onClick={go} data-to=\"authorization\">\n                    Получите access token\n                </Button>\n            </Div>\n        </Group>\n        <Group title=\"Панель управления друзьями и заявками\">\n            <Div>\n                <Button size=\"xl\" level=\"2\" onClick={go} data-to=\"friends\">\n                    Друзья\n                </Button>\n            </Div>\n            <Div>\n                <Button size=\"xl\" level=\"2\" onClick={go} data-to=\"subscribers\">\n                    Исходящие заявки\n                </Button>\n            </Div>\n            <Div>\n                <Button size=\"xl\" level=\"2\" onClick={go} data-to=\"default\">\n                    Подписчики\n                </Button>\n            </Div>\n        </Group>\n        <Group title=\"Панель управления лайками\">\n            <Div>\n                <Button size=\"xl\" level=\"2\" onClick={go} data-to=\"my-likes\">\n                    мои лайки\n                </Button>\n            </Div>\n        </Group>\n    </Panel>\n);\n\nHome.propTypes = {\n    id: PropTypes.string.isRequired,\n    go: PropTypes.func.isRequired,\n    access_token: PropTypes.string.isRequired,\n    fetchedUser: PropTypes.shape({\n        photo_200: PropTypes.string,\n        first_name: PropTypes.string,\n        last_name: PropTypes.string,\n        city: PropTypes.shape({\n            title: PropTypes.string,\n        }),\n    }),\n};\n\nexport default Home;\n","import {Panel, PanelHeader, HeaderButton, IOS} from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport React from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nclass VueDefault extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n\r\n    componentDidMount () {\r\n\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <Panel id={this.props.id}>\r\n                <PanelHeader\r\n                    left={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n                        {this.osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n                    </HeaderButton>}\r\n                >\r\n                    Стандартный шаблон\r\n                </PanelHeader>\r\n\r\n            </Panel>\r\n        );\r\n    }\r\n}\r\n\r\nVueDefault.propTypes = {\r\n    go: PropTypes.func.isRequired,\r\n    access_token: PropTypes.string.isRequired\r\n};\r\n\r\nexport default VueDefault;\r\n","import {\n    Panel,\n    Button,\n    Group,\n    Div,\n    Avatar,\n    PanelHeader,\n    HeaderButton,\n    Cell,\n    IOS,\n    Spinner,\n    Progress\n} from '@vkontakte/vkui';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport {Friends, Users} from '../api';\n\nclass VueFriends extends React.Component {\n    constructor (props) {\n        super(props);\n        this.state = {\n            progress: 0,\n            countFriends: 0,\n            isDelAllFriends: false,\n            usersInfo: [],\n            isPreloader: true\n        };\n    }\n\n    getFriends () {\n        let offsetFriendsInterval = 0;\n        let isClearInterval = false;\n        this.friendsInterval = setInterval(() => {\n            if (isClearInterval) clearInterval(this.friendsInterval);\n\n            Friends.getFriends({\n                count: 100,\n                offset: offsetFriendsInterval,\n                access_token: this.props.access_token\n            })\n                .then(data => {\n                    offsetFriendsInterval += 100;\n                    this.setState({countFriends: data.response.count});\n                    this.getUsersInfo(data.response.items)\n                        .then(data => {\n                            if (data.error) {\n                                console.error('Ошибка', data.error);\n                            } else {\n                                isClearInterval = !data.response.length;\n                                this.setState((state) => {\n                                    state.usersInfo.push(...data.response);\n                                    state.countFriends = data.count;\n                                    state.isPreloader = false;\n                                });\n                                this.forceUpdate();\n                            }\n                        })\n                        .catch(e => console.error(e));\n                })\n                .catch(e => console.error(e));\n        }, 2000);\n    }\n\n    getUsersInfo (ids) {\n        const strFriendsIds = ids.slice(0, 100).join(',');\n        return Users.getUsers({\n            user_ids: strFriendsIds,\n            fields: 'photo_200_orig,status',\n            access_token: this.props.access_token\n        });\n    }\n\n    deleteFriend (user_id) {\n        return () => {\n            Friends.deleteFriends({\n                user_id,\n                access_token: this.props.access_token\n            })\n                .then(data => {\n                    if (data.error) {\n                        console.error('Ошибка удаления', data.error);\n                    } else {\n                        const indexDelFriend = this.state.usersInfo.findIndex(item => item.id === user_id);\n                        this.state.usersInfo.splice(indexDelFriend, 1);\n                        this.forceUpdate();\n                    }\n                })\n                .catch(e => console.error(e));\n        };\n    }\n\n    deleteAllFriends () {\n        const isClearInterval = !this.state.usersInfo.length;\n        this.setState({isDelAllFriends: true});\n        this.intervalDeleteAllFriends = setInterval(() => {\n            if (isClearInterval) clearInterval(this.intervalDeleteAllFriends);\n\n            Friends.deleteFriends({\n                user_id: this.state.usersInfo[0].id,\n                access_token: this.props.access_token\n            })\n                .then(data => {\n                    if (data.error) {\n                        console.error('Ошибка удаления', data.error);\n                    } else {\n                        this.state.usersInfo.splice(0, 1);\n                        this.setState(state => state.progress++);\n                        this.forceUpdate();\n                    }\n                })\n                .catch(e => console.error(e));\n        }, 3000);\n    }\n\n    cancelDelFriends () {\n        clearInterval(this.interval);\n        this.setState({isDelAllFriends: false});\n    }\n\n    prev (e) {\n        clearInterval(this.subscribersInterval);\n        clearInterval(this.friendsInterval);\n        this.props.go(e);\n    }\n\n    componentDidMount () {\n        this.getFriends();\n    }\n\n    render () {\n        return (\n            <Panel id={this.props.id}>\n                <PanelHeader\n                    left={<HeaderButton onClick={this.prev.bind(this)} data-to=\"home\">\n                        {this.osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n                    </HeaderButton>}\n                >\n                    Друзья\n                </PanelHeader>\n                <Group title=\"\">\n                    <Div style={{display: 'flex', zIndex: 100}}>\n                        <Button size=\"l\" stretched style={{marginRight: 8}} onClick={this.deleteAllFriends.bind(this)}>Удалить\n                            всех</Button>\n                        <Button size=\"l\" stretched level=\"secondary\"\n                                onClick={this.cancelDelFriends.bind(this)}>Отмена</Button>\n                    </Div>\n                    {\n                        this.state.isDelAllFriends &&\n                        <Cell description={`удалено ${this.state.progress} / ${this.state.countFriends}`}>\n                            <Progress value={this.state.progress}/>\n                        </Cell>\n                    }\n                </Group>\n                <Group title={`Друзья ${this.state.usersInfo.length}`}>\n                    {\n                        this.state.isPreloader &&\n                        <Cell size=\"l\">\n                            <Spinner size=\"large\" style={{margin: '150px 0'}}/>\n                        </Cell>\n                    }\n                    {\n                        this.state.usersInfo.map((friend, index) => {\n                            return (\n                                <Cell\n                                    size=\"l\"\n                                    description={friend.status || 'Статус не установлен'}\n                                    before={<Avatar src={friend.photo_200_orig}/>}\n                                    bottomContent={<Button onClick={this.deleteFriend(friend.id)}>Удалить</Button>}\n                                    key={index}\n                                >\n                                    {`${friend.first_name} ${friend.last_name}`}\n                                </Cell>\n                            );\n                        })\n                    }\n                </Group>\n            </Panel>\n        );\n    }\n}\n\nVueFriends.propTypes = {\n    go: PropTypes.func.isRequired,\n    access_token: PropTypes.string.isRequired\n};\n\nexport default VueFriends;\n","import {\r\n    Panel,\r\n    Button,\r\n    Group,\r\n    Div,\r\n    PanelHeader,\r\n    HeaderButton,\r\n    Cell,\r\n    IOS,\r\n    Progress,\r\n    Spinner\r\n} from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport React from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {Likes} from '../api';\r\n\r\nclass VueFriends extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            activeTab4: 'dial',\r\n            postsLikes: [],\r\n            progressCount: 0,\r\n            progressStart: 0,\r\n            isSpinner: true,\r\n            isProgress: false\r\n        };\r\n    }\r\n\r\n    getLikesPosts () {\r\n        let count = 100;\r\n        let offset = 0;\r\n        this.getLikesInterval = setInterval(() => {\r\n            Likes.getLikePosts({\r\n                count: count,\r\n                offset: offset,\r\n                access_token: this.props.access_token\r\n            })\r\n                .then(res => {\r\n                    if (res.error) {\r\n                        console.error('Ошибка получения лайков', res);\r\n                    } else if (!res.response.items.length) {\r\n                        clearInterval(this.getLikesInterval);\r\n                        this.setState({isSpinner: false});\r\n                    } else {\r\n                        this.setState((state) => {\r\n                            state.postsLikes.push(...res.response.items);\r\n                            state.progressStart = state.postsLikes.length;\r\n                        });\r\n                        offset += count;\r\n                        this.forceUpdate();\r\n                    }\r\n                })\r\n                .catch(e => console.error(e));\r\n        }, 3000);\r\n    }\r\n\r\n    deleteAllLikes () {\r\n        this.delLikesInterval = setInterval(() => {\r\n            if (!this.state.postsLikes.length) {\r\n                clearInterval(this.delLikesInterval);\r\n            } else {\r\n                Likes.deleteLike({\r\n                    type: 'post',\r\n                    owner_id: this.state.postsLikes[0].owner_id,\r\n                    item_id: this.state.postsLikes[0].id,\r\n                    access_token: this.props.access_token\r\n                })\r\n                    .then(res => {\r\n                        if (res.error) {\r\n                            console.error('Ошибка удаления', res.error);\r\n                        } else {\r\n                            this.state.postsLikes.splice(0, 1);\r\n                            this.setState(state => {\r\n                                state.progressCount++;\r\n                                state.isProgress = true;\r\n                            });\r\n\r\n                            this.forceUpdate();\r\n                        }\r\n                    })\r\n                    .catch(e => console.error(e));\r\n            }\r\n        }, 3000);\r\n    }\r\n\r\n    cancelDelLikes () {\r\n        clearInterval(this.delLikesInterval);\r\n    }\r\n\r\n    prev (e) {\r\n        clearInterval(this.getLikesInterval);\r\n        clearInterval(this.delLikesInterval);\r\n        this.props.go(e);\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.getLikesPosts();\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <Panel id={this.props.id}>\r\n                <PanelHeader\r\n                    left={<HeaderButton onClick={this.prev.bind(this)} data-to=\"home\">\r\n                        {this.osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n                    </HeaderButton>}\r\n                >\r\n                    Мои лайки\r\n                </PanelHeader>\r\n                <Group title=\"\">\r\n                    <Div style={{display: 'flex', zIndex: 100}}>\r\n                        <Button size=\"l\" stretched style={{marginRight: 8}} onClick={this.deleteAllLikes.bind(this)}>Снять\r\n                            все лайки</Button>\r\n                        <Button size=\"l\" stretched level=\"secondary\"\r\n                                onClick={this.cancelDelLikes.bind(this)}>Отмена</Button>\r\n                    </Div>\r\n                    {\r\n                        this.state.postsLikes &&\r\n                        this.state.isProgress &&\r\n                        <Cell description={`удалено ${this.state.progressCount} / ${this.state.progressStart}`}>\r\n                            <Progress value={this.state.progressCount}/>\r\n                        </Cell>\r\n                    }\r\n                </Group>\r\n                <Group>\r\n                    <Div>\r\n                        Идет поиск... <br/>\r\n                        найдено {this.state.progressStart} лайков\r\n                        {\r\n                            this.state.isSpinner &&\r\n                            <Spinner size=\"medium\" style={{ margin: 20 }} />\r\n                        }\r\n                    </Div>\r\n                </Group>\r\n            </Panel>\r\n        );\r\n    }\r\n}\r\n\r\nVueFriends.propTypes = {\r\n    go: PropTypes.func.isRequired,\r\n    access_token: PropTypes.string.isRequired\r\n};\r\n\r\nexport default VueFriends;\r\n","import {Panel, PanelHeader, HeaderButton, IOS, CellButton, Group, Input,Button}from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport React from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nclass VueDefault extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            activeView: ''\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <Panel id={this.props.id}>\r\n                <PanelHeader\r\n                    left={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n                        {this.osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n                    </HeaderButton>}\r\n                >\r\n                    Стандартный шаблон\r\n                </PanelHeader>\r\n                <Group>\r\n                    <Input type=\"text\" defaultValue=\"Петров\" />\r\n                    <Button level=\"secondary\">Secondary</Button>\r\n                </Group>\r\n            </Panel>\r\n        );\r\n    }\r\n}\r\n\r\nVueDefault.propTypes = {\r\n    go: PropTypes.func.isRequired\r\n};\r\n\r\nexport default VueDefault;\r\n","import { Panel, Button, Group, Div, Avatar, PanelHeader, HeaderButton, Cell, IOS, Spinner, Progress } from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport React from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Friends, Users } from '../api';\r\n\r\nclass VueOutgoingRequests extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tprogress: 0,\r\n\t\t\tisDelAllFriends: false,\r\n\t\t\tcountOutgoingRequests: 0,\r\n\t\t\tusersInfo: [],\r\n\t\t\tisPreloader: true\r\n\t\t};\r\n\t}\r\n\tgetOutgoingRequests () {\r\n\t\tlet offsetSubscribersInterval = 0;\r\n\t\tlet isClearInterval = false;\r\n\t\tthis.subscribersInterval = setInterval(() => {\r\n\t\t\tif (isClearInterval) clearInterval(this.subscribersInterval);\r\n\r\n\t\t\tFriends.getRequests({\r\n\t\t\t\tcount: 100,\r\n\t\t\t\toffset: offsetSubscribersInterval,\r\n\t\t\t\tout: 1,\r\n\t\t\t\taccess_token: this.props.access_token\r\n\t\t\t})\r\n\t\t\t.then(data => {\r\n\t\t\t\toffsetSubscribersInterval += 100;\r\n\t\t\t\tthis.setState({countOutgoingRequests: data.response.count});\r\n\t\t\t\tthis.getUsersInfo(data.response.items)\r\n\t\t\t\t\t.then(data => {\r\n\t\t\t\t\t\tif(data.error) {\r\n\t\t\t\t\t\t\tconsole.error('Ошибка', data.error);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tisClearInterval = !data.response.length;\r\n\t\t\t\t\t\t\tthis.setState((state) => {\r\n\t\t\t\t\t\t\t\tstate.usersInfo.push(...data.response);\r\n\t\t\t\t\t\t\t\tstate.isPreloader = false;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.forceUpdate();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(e => console.error(e));\r\n\t\t\t})\r\n\t\t\t.catch(e => console.error(e));\r\n\t\t}, 2000);\r\n\t}\r\n\tgetUsersInfo (ids) {\r\n\t\tconst strFriendsIds = ids.slice(0, 100).join(',');\r\n\t\treturn Users.getUsers({\r\n\t\t\tuser_ids: strFriendsIds,\r\n\t\t\tfields: 'photo_200_orig,status',\r\n\t\t\taccess_token: this.props.access_token\r\n\t\t});\r\n\t}\r\n\tdeleteFriend (user_id) {\r\n\t\treturn () => {\r\n\t\t\tFriends.deleteFriends({\r\n\t\t\t\tuser_id,\r\n\t\t\t\taccess_token: this.props.access_token\r\n\t\t\t})\r\n\t\t\t.then(data => {\r\n\t\t\t\tif(data.error) {\r\n\t\t\t\t\tconsole.error('Ошибка удаления', data.error);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst indexDelFriend = this.state.usersInfo.findIndex(item => item.id === user_id);\r\n\t\t\t\t\tthis.state.usersInfo.splice(indexDelFriend, 1);\r\n\t\t\t\t\tthis.forceUpdate();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(e => console.error(e));\r\n\t\t};\r\n\t}\r\n\tdeleteAllFriends () {\r\n\t\tconst isClearInterval = !this.state.usersInfo.length;\r\n\t\tthis.setState({isDelAllFriends: true});\r\n\t\tthis.intervalDeleteAllFriends = setInterval(() => {\r\n\t\t\tif (isClearInterval) clearInterval(this.intervalDeleteAllFriends);\r\n\r\n\t\t\tFriends.deleteFriends({\r\n\t\t\t\tuser_id: this.state.usersInfo[0].id,\r\n\t\t\t\taccess_token: this.props.access_token\r\n\t\t\t})\r\n\t\t\t.then(data => {\r\n\t\t\t\tif(data.error) {\r\n\t\t\t\t\tconsole.error('Ошибка удаления', data.error);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.state.usersInfo.splice(0, 1);\r\n\t\t\t\t\tthis.setState(state => state.progress++);\r\n\t\t\t\t\tthis.forceUpdate();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(e => console.error(e));\r\n\t\t}, 3000);\r\n\t}\r\n\tcancelDelFriends () {\r\n\t\tclearInterval(this.interval);\r\n\t\tthis.setState({isDelAllFriends: false });\r\n\t}\r\n\tprev (e) {\r\n\t\tclearInterval(this.subscribersInterval);\r\n\t\tclearInterval(this.intervalDeleteAllFriends);\r\n\t\tthis.props.go(e);\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tthis.getOutgoingRequests();\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Panel id={this.props.id}>\r\n\t\t\t\t<PanelHeader\r\n\t\t\t\t\tleft={<HeaderButton onClick={this.prev.bind(this)} data-to=\"home\">\r\n\t\t\t\t\t\t{this.osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t\t\t</HeaderButton>}\r\n\t\t\t\t>\r\n\t\t\t\t\tИсходящие заявки\r\n\t\t\t\t</PanelHeader>\r\n\t\t\t\t<Group title=\"\">\r\n\t\t\t\t\t<Div style={{display: 'flex', zIndex: 100}}>\r\n\t\t\t\t\t\t<Button size=\"l\" stretched style={{ marginRight: 8 }} onClick={this.deleteAllFriends.bind(this)}>Отменить у всех</Button>\r\n\t\t\t\t\t\t<Button size=\"l\" stretched level=\"secondary\" onClick={this.cancelDelFriends.bind(this)}>Отмена</Button>\r\n\t\t\t\t\t</Div>\r\n\t\t\t\t\t{this.state.isDelAllFriends &&\r\n\t\t\t\t\t\t<Cell description={`Отменено ${this.state.progress} / ${this.state.countOutgoingRequests}`}>\r\n\t\t\t\t\t\t\t<Progress value={this.state.progress} />\r\n\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Group>\r\n\t\t\t\t<Group title={`Исходящие заявки в друзья ${this.state.usersInfo.length}`}>\r\n\t\t\t\t\t{\tthis.state.isPreloader &&\r\n\t\t\t\t\t\t<Cell size=\"l\">\r\n\t\t\t\t\t\t\t<Spinner size=\"large\" style={{ margin: '150px 0' }} />\r\n\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.usersInfo.map((friend, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Cell\r\n\t\t\t\t\t\t\t\t\tsize=\"l\"\r\n\t\t\t\t\t\t\t\t\tdescription={friend.status || 'Статус не установлен'}\r\n\t\t\t\t\t\t\t\t\tbefore={<Avatar src={friend.photo_200_orig} />}\r\n\t\t\t\t\t\t\t\t\tbottomContent={<Button onClick={this.deleteFriend(friend.id)}>Отменить заявку</Button>}\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{`${friend.first_name} ${friend.last_name}`}\r\n\t\t\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</Group>\r\n\t\t\t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nVueOutgoingRequests.propTypes = {\r\n\tgo: PropTypes.func.isRequired,\r\n\taccess_token: PropTypes.string.isRequired\r\n};\r\n\r\nexport default VueOutgoingRequests;\r\n","import {View} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport React from 'react';\n\nimport {Users} from './api';\n\nimport Home from './panels/Home';\nimport VueDefault from './panels/VueDefault';\nimport VueFriends from './panels/VueFriends';\nimport VueMyLikes from './panels/VueMyLikes';\nimport VueAuthorization from './panels/VueAuthorization'\nimport VueOutgoingRequests from './panels/VueOutgoingRequests';\n\n\n//https://oauth.vk.com/authorize?client_id=6076877&display=page&redirect_uri=&scope=likes+notifications+post+wall+friends+status&response_type=token&v=&state=\n//77e1bd20937265f0c7459629d57a028d284fc0f4c5c78669076d4340ebb438d6faa3d50f623da22619479\n\nclass App extends React.Component {\n    constructor (props) {\n        super(props);\n\n        this.state = {\n            activeView: 'view2',\n            activePanel: 'home',\n            fetchedUser: null,\n            access_token: '77e1bd20937265f0c7459629d57a028d284fc0f4c5c78669076d4340ebb438d6faa3d50f623da22619479',\n        };\n    }\n\n    componentDidMount () {\n        this.getUserInfo();\n    }\n\n    getUserInfo () {\n        Users.getUsers({\n            fields: 'photo_200,status,city',\n            access_token: this.state.access_token\n        })\n            .then(data => {\n                this.setState({fetchedUser: data.response[0]});\n            })\n            .catch(e => console.error(e));\n    }\n\n    go = (e) => {\n        this.setState({activePanel: e.currentTarget.dataset.to});\n    };\n\n    setAccessToken (token) {\n        this.setState({access_token: token});\n    }\n\n    render () {\n        return (\n            <View id=\"view1\" activePanel={this.state.activePanel}>\n                <Home id=\"home\" fetchedUser={this.state.fetchedUser} go={this.go}\n                      access_token={this.state.access_token}/>\n                <VueDefault\n                    id=\"default\"\n                    go={this.go}\n                    access_token={this.state.access_token}\n                />\n                <VueFriends\n                    id=\"friends\"\n                    go={this.go}\n                    access_token={this.state.access_token}\n                />\n                <VueOutgoingRequests\n                    id=\"subscribers\"\n                    go={this.go}\n                    access_token={this.state.access_token}\n                />\n                <VueMyLikes\n                    id=\"my-likes\"\n                    go={this.go}\n                    access_token={this.state.access_token}\n                />\n                <VueAuthorization\n                    id=\"authorization\"\n                    go={this.go}\n                />\n            </View>\n        );\n    }\n}\n\nexport default App;\n","import connect from '@vkontakte/vkui-connect-promise';\n\nimport React from 'react';\n\nimport ReactDOM from 'react-dom';\n\nimport 'core-js/es6/map';\nimport 'core-js/es6/set';\n\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK App\nconnect.send('VKWebAppInit', {})\n    .then(data => console.log('VKWebAppInit success:', data))\n    .catch(e => console.error('VKWebAppInit error:', e));\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}