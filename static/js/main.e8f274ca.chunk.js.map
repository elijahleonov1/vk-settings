{"version":3,"sources":["api/index.js","panels/Home.js","panels/VueDefault.js","panels/VueFriends.js","panels/VueMyLikes.js","panels/VueOutgoingRequests.js","App.js","index.js"],"names":["API","method","opt","fetchJsonp","urlOpts","Object","keys","forEach","item","concat","getProfilesUrl","then","res","json","catch","error","console","Users","opts","Friends","Likes","Home","_ref","id","go","fetchedUser","react_default","a","createElement","vkui","title","before","photo_200","src","description","city","first_name","last_name","size","level","onClick","data-to","VueFriends","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","left","osname","IOS","chevron_back_default","back_default","React","Component","progress","countFriends","isDelAllFriends","usersInfo","isPreloader","_this2","offsetFriendsInterval","isClearInterval","friendsInterval","setInterval","clearInterval","count","offset","access_token","data","setState","response","getUsersInfo","items","length","_state$usersInfo","push","apply","toConsumableArray","forceUpdate","e","ids","strFriendsIds","slice","join","user_ids","fields","user_id","_this3","indexDelFriend","findIndex","splice","_this4","intervalDeleteAllFriends","interval","subscribersInterval","getFriends","_this5","prev","bind","style","display","zIndex","stretched","marginRight","deleteAllFriends","cancelDelFriends","value","margin","map","friend","index","status","photo_200_orig","bottomContent","deleteFriend","key","activeTab4","postsLikes","getLikesPosts","theme","selected","post","Date","now","slideWidth","height","attachments","type","photo_640","photo","sizes","pop","url","VueOutgoingRequests","countOutgoingRequests","offsetSubscribersInterval","out","getOutgoingRequests","App","activePanel","currentTarget","dataset","to","connect","send","app_id","scope","log","panels_Home","VueDefault","panels_VueFriends","panels_VueOutgoingRequests","VueMyLikes","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.e8f274ca.chunk.js","sourcesContent":["import fetchJsonp from 'fetch-jsonp';\r\n\r\nconst getProfilesUrl = (method, opt) => {\r\n    let urlOpts = '';\r\n    let optKeys = Object.keys(opt);\r\n    optKeys.forEach(item => urlOpts += `${item}=${opt[item]}&`);\r\n    return `https://api.vk.com/method/${method}?${urlOpts}v=5.80`\r\n};\r\n\r\nconst API = (method, opt) => {\r\n    return fetchJsonp(getProfilesUrl(method, opt))\r\n      .then(res => res.json())\r\n      .catch(error => console.error(error));\r\n};\r\nconst Account = {\r\n    getInfo (opts) {\r\n        const method = 'account.getInfo';\r\n        return API(method, opts);\r\n    }\r\n};\r\n\r\nconst Users = {\r\n    getUsers (opts) {\r\n        const method = 'users.get';\r\n        return API(method, opts);\r\n    },\r\n    getFollowers (opts) {\r\n        const method = 'users.getFollowers';\r\n        return API(method, opts);\r\n    }\r\n};\r\n\r\nconst Friends = {\r\n    getFriends (opts) {\r\n        const method = 'friends.get';\r\n        return API(method, opts);\r\n    },\r\n    getRequests (opts) {\r\n        const method = 'friends.getRequests';\r\n        return API(method, opts);\r\n    },\r\n    deleteFriends (opts) {\r\n        const method = 'friends.delete';\r\n        return API(method, opts);\r\n    }\r\n};\r\n\r\nconst Likes = {\r\n    getLikePosts (opts) {\r\n        const method = 'fave.getPosts';\r\n        return API(method, opts);\r\n    },\r\n    getLikePhotos (opts) {\r\n        const method = 'fave.getPhotos';\r\n        return API(method, opts);\r\n    },\r\n    deleteLike (opts) {\r\n        const method = 'likes.delete';\r\n        return API(method, opts);\r\n    }\r\n};\r\n\r\nexport {\r\n    Account,\r\n    Users,\r\n    Friends,\r\n    Likes\r\n};","import {Panel, ListItem, Button, Group, Div, Avatar, PanelHeader} from '@vkontakte/vkui';\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nconst Home = ({id, go, fetchedUser}) => (\n    <Panel id={id}>\n        <PanelHeader>ВК Настройки</PanelHeader>\n        {fetchedUser &&\n        <Group title=\"Аккаунт\">\n            <ListItem\n                before={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\n                description={fetchedUser.city && fetchedUser.city.title ? fetchedUser.city.title : ''}\n            >\n                {`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n            </ListItem>\n        </Group>\n        }\n\n        <Group title=\"Панель управления друзьями и заявками\">\n            <Div>\n                <Button size=\"xl\" level=\"2\" onClick={go} data-to=\"friends\">\n                    Друзья\n                </Button>\n            </Div>\n            <Div>\n                <Button size=\"xl\" level=\"2\" onClick={go} data-to=\"subscribers\">\n                    Исходящие заявки\n                </Button>\n            </Div>\n            <Div>\n                <Button size=\"xl\" level=\"2\" onClick={go} data-to=\"default\">\n                    Подписчики\n                </Button>\n            </Div>\n        </Group>\n        <Group title=\"Панель управления лайками\">\n            <Div>\n                <Button size=\"xl\" level=\"2\" onClick={go} data-to=\"my-likes\">\n                    мои лайки\n                </Button>\n            </Div>\n        </Group>\n    </Panel>\n);\n\nHome.propTypes = {\n    id: PropTypes.string.isRequired,\n    go: PropTypes.func.isRequired,\n    access_token: PropTypes.string.isRequired,\n    fetchedUser: PropTypes.shape({\n        photo_200: PropTypes.string,\n        first_name: PropTypes.string,\n        last_name: PropTypes.string,\n        city: PropTypes.shape({\n            title: PropTypes.string,\n        }),\n    }),\n};\n\nexport default Home;\n","import { Panel, Button, Group, Div, Avatar, PanelHeader, HeaderButton, Cell, IOS, Spinner, Progress } from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport React from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Friends, Users } from '../api';\r\n\r\nclass VueFriends extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Panel id={this.props.id}>\r\n                <PanelHeader\r\n\t\t\t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n\t\t\t\t\t\t{this.osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t\t\t</HeaderButton>}\r\n\t\t\t\t>\r\n\t\t\t\t\tСтандартный шаблон\r\n\t\t\t\t</PanelHeader>\r\n\r\n\t\t\t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nVueFriends.propTypes = {\r\n\tgo: PropTypes.func.isRequired,\r\n\taccess_token: PropTypes.string.isRequired\r\n};\r\n\r\nexport default VueFriends;\r\n","import { Panel, Button, Group, Div, Avatar, PanelHeader, HeaderButton, Cell, IOS, Spinner, Progress } from '@vkontakte/vkui';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { Friends, Users } from '../api';\n\nclass VueFriends extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tprogress: 0,\n\t\t\tcountFriends: 0,\n\t\t\tisDelAllFriends: false,\n\t\t\tusersInfo: [],\n\t\t\tisPreloader: true\n\t\t};\n\t}\n\tgetFriends() {\n\t\tlet offsetFriendsInterval = 0;\n\t\tlet isClearInterval = false;\n\t\tthis.friendsInterval = setInterval(() => {\n\t\t\tif (isClearInterval) clearInterval(this.friendsInterval);\n\n\t\t\tFriends.getFriends({\n\t\t\t\tcount: 100,\n\t\t\t\toffset: offsetFriendsInterval,\n\t\t\t\taccess_token: this.props.access_token\n\t\t\t})\n\t\t\t.then(data => {\n\t\t\t\toffsetFriendsInterval += 100;\n\t\t\t\tthis.setState({countFriends: data.response.count});\n\t\t\t\tthis.getUsersInfo(data.response.items)\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tif(data.error) {\n\t\t\t\t\t\t\tconsole.error('Ошибка', data.error);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tisClearInterval = !data.response.length;\n\t\t\t\t\t\t\tthis.setState((state) => {\n\t\t\t\t\t\t\t\tstate.usersInfo.push(...data.response);\n\t\t\t\t\t\t\t\tstate.countFriends = data.count;\n\t\t\t\t\t\t\t\tstate.isPreloader = false;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(e => console.error(e));\n\t\t\t})\n\t\t\t.catch(e => console.error(e));\n\t\t}, 2000);\n\t}\n\tgetUsersInfo (ids) {\n\t\tconst strFriendsIds = ids.slice(0, 100).join(',');\n\t\treturn Users.getUsers({\n\t\t\tuser_ids: strFriendsIds,\n\t\t\tfields: 'photo_200_orig,status',\n\t\t\taccess_token: this.props.access_token\n\t\t});\n\t}\n\tdeleteFriend (user_id) {\n\t\treturn () => {\n\t\t\tFriends.deleteFriends({\n\t\t\t\tuser_id,\n\t\t\t\taccess_token: this.props.access_token\n\t\t\t})\n\t\t\t.then(data => {\n\t\t\t\tif(data.error) {\n\t\t\t\t\tconsole.error('Ошибка удаления', data.error);\n\t\t\t\t} else {\n\t\t\t\t\tconst indexDelFriend = this.state.usersInfo.findIndex(item => item.id === user_id);\n\t\t\t\t\tthis.state.usersInfo.splice(indexDelFriend, 1);\n\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(e => console.error(e));\n\t\t};\n\t}\n\tdeleteAllFriends () {\n\t\tconst isClearInterval = !this.state.usersInfo.length;\n\t\tthis.setState({isDelAllFriends: true});\n\t\tthis.intervalDeleteAllFriends = setInterval(() => {\n\t\t\tif (isClearInterval) clearInterval(this.intervalDeleteAllFriends);\n\n\t\t\tFriends.deleteFriends({\n\t\t\t\tuser_id: this.state.usersInfo[0].id,\n\t\t\t\taccess_token: this.props.access_token\n\t\t\t})\n\t\t\t.then(data => {\n\t\t\t\tif(data.error) {\n\t\t\t\t\tconsole.error('Ошибка удаления', data.error);\n\t\t\t\t} else {\n\t\t\t\t\tthis.state.usersInfo.splice(0, 1);\n\t\t\t\t\tthis.setState(state => state.progress++);\n\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(e => console.error(e));\n\t\t}, 3000);\n\t}\n\tcancelDelFriends () {\n\t\tclearInterval(this.interval);\n\t\tthis.setState({isDelAllFriends: false });\n\t}\n\tprev (e) {\n\t\tclearInterval(this.subscribersInterval);\n\t\tclearInterval(this.friendsInterval);\n\t\tthis.props.go(e);\n\t}\n\tcomponentDidMount() {\n\t\tthis.getFriends();\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<Panel id={this.props.id}>\n\t\t\t\t<PanelHeader\n\t\t\t\t\tleft={<HeaderButton onClick={this.prev.bind(this)} data-to=\"home\">\n\t\t\t\t\t\t{this.osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t\t\t\t</HeaderButton>}\n\t\t\t\t>\n\t\t\t\t\tДрузья\n\t\t\t\t</PanelHeader>\n\t\t\t\t<Group title=\"\">\n\t\t\t\t\t<Div style={{display: 'flex', zIndex: 100}}>\n\t\t\t\t\t\t<Button size=\"l\" stretched style={{ marginRight: 8 }}  onClick={this.deleteAllFriends.bind(this)}>Удалить всех</Button>\n\t\t\t\t\t\t<Button size=\"l\" stretched level=\"secondary\" onClick={this.cancelDelFriends.bind(this)}>Отмена</Button>\n\t\t\t\t\t</Div>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.state.isDelAllFriends &&\n\t\t\t\t\t\t<Cell description={`удалено ${this.state.progress} / ${this.state.countFriends}`}>\n\t\t\t\t\t\t\t<Progress value={this.state.progress} />\n\t\t\t\t\t\t</Cell>\n\t\t\t\t\t}\n\t\t\t\t</Group>\n\t\t\t\t<Group title={`Друзья ${this.state.usersInfo.length}`}>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.state.isPreloader &&\n\t\t\t\t\t\t<Cell size=\"l\">\n\t\t\t\t\t\t\t<Spinner size=\"large\" style={{ margin: '150px 0' }} />\n\t\t\t\t\t\t</Cell>\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.state.usersInfo.map((friend, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Cell\n\t\t\t\t\t\t\t\t\tsize=\"l\"\n\t\t\t\t\t\t\t\t\tdescription={friend.status || 'Статус не установлен'}\n\t\t\t\t\t\t\t\t\tbefore={<Avatar src={friend.photo_200_orig} />}\n\t\t\t\t\t\t\t\t\tbottomContent={<Button onClick={this.deleteFriend(friend.id)}>Удалить</Button>}\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{`${friend.first_name} ${friend.last_name}`}\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</Group>\n\t\t\t</Panel>\n\t\t);\n\t}\n}\n\nVueFriends.propTypes = {\n\tgo: PropTypes.func.isRequired,\n\taccess_token: PropTypes.string.isRequired\n};\n\nexport default VueFriends;\n","import { Panel, Button, Group, Div, Avatar, PanelHeader, HeaderButton, Cell, IOS, Tabs, TabsItem, Gallery} from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport React from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Likes } from '../api';\r\n\r\nclass VueFriends extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n            activeTab4: 'dial'\r\n\t\t};\r\n    }\r\n    getLikesPosts() {\r\n        Likes.getLikePosts({\r\n            count: 100,\r\n            offset: 0,\r\n            access_token: this.props.access_token\r\n        })\r\n        .then(res => {\r\n            debugger\r\n            this.setState({ postsLikes: res.response.items });\r\n        })\r\n        .catch(e => console.error(e))\r\n    }\r\n\tcomponentDidMount() {\r\n        this.getLikesPosts();\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Panel id={this.props.id}>\r\n                <PanelHeader\r\n\t\t\t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n\t\t\t\t\t\t{this.osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t\t\t</HeaderButton>}\r\n\t\t\t\t>\r\n\t\t\t\t\tМои лайки\r\n\t\t\t\t</PanelHeader>\r\n                <Tabs theme=\"light\">\r\n                    <TabsItem\r\n                        onClick={() => this.setState({ activeTab4: 'dial' })}\r\n                        selected={this.state.activeTab4 === 'dial'}\r\n                    >\r\n                    Посты\r\n                    </TabsItem>\r\n                    <TabsItem\r\n                        onClick={() => this.setState({ activeTab4: 'messages' })}\r\n                        selected={this.state.activeTab4 === 'messages'}\r\n                    >\r\n                    Фото\r\n                    </TabsItem>\r\n                </Tabs>\r\n\r\n                <Group>\r\n               \r\n                {\r\n                    this.state.postsLikes &&\r\n                    this.state.postsLikes.map((post, index) => (\r\n                            <Group key={Date.now() + post.id}>\r\n                                <Gallery slideWidth=\"100%\" style={{ height: 150 }} >\r\n                                    {\r\n                                        post.attachments && post.attachments.map(item => (\r\n                                                    <img \r\n                                                        src={\r\n                                                            item[item.type].photo_640 ||\r\n                                                            item[item.type].photo && item[item.type].photo.sizes.pop().url\r\n                                                        }\r\n                                                        key={Date.now() + item[item.type].id}\r\n                                                    />\r\n                                            )\r\n                                        )\r\n                                    }\r\n                                </Gallery>\r\n                                <Div>\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et\r\n                                    dolore magna aliqua. {index}\r\n                                </Div>\r\n                            </Group>\r\n                        )\r\n                    )\r\n                }\r\n                </Group>\r\n\r\n\t\t\t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nVueFriends.propTypes = {\r\n\tgo: PropTypes.func.isRequired,\r\n\taccess_token: PropTypes.string.isRequired\r\n};\r\n\r\nexport default VueFriends;\r\n","import { Panel, Button, Group, Div, Avatar, PanelHeader, HeaderButton, Cell, IOS, Spinner, Progress } from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport React from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Friends, Users } from '../api';\r\n\r\nclass VueOutgoingRequests extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tprogress: 0,\r\n\t\t\tisDelAllFriends: false,\r\n\t\t\tcountOutgoingRequests: 0,\r\n\t\t\tusersInfo: [],\r\n\t\t\tisPreloader: true\r\n\t\t};\r\n\t}\r\n\tgetOutgoingRequests () {\r\n\t\tlet offsetSubscribersInterval = 0;\r\n\t\tlet isClearInterval = false;\r\n\t\tthis.subscribersInterval = setInterval(() => {\r\n\t\t\tif (isClearInterval) clearInterval(this.subscribersInterval);\r\n\r\n\t\t\tFriends.getRequests({\r\n\t\t\t\tcount: 100,\r\n\t\t\t\toffset: offsetSubscribersInterval,\r\n\t\t\t\tout: 1,\r\n\t\t\t\taccess_token: this.props.access_token\r\n\t\t\t})\r\n\t\t\t.then(data => {\r\n\t\t\t\toffsetSubscribersInterval += 100;\r\n\t\t\t\tthis.setState({countOutgoingRequests: data.response.count});\r\n\t\t\t\tthis.getUsersInfo(data.response.items)\r\n\t\t\t\t\t.then(data => {\r\n\t\t\t\t\t\tif(data.error) {\r\n\t\t\t\t\t\t\tconsole.error('Ошибка', data.error);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tisClearInterval = !data.response.length;\r\n\t\t\t\t\t\t\tthis.setState((state) => {\r\n\t\t\t\t\t\t\t\tstate.usersInfo.push(...data.response);\r\n\t\t\t\t\t\t\t\tstate.isPreloader = false;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.forceUpdate();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(e => console.error(e));\r\n\t\t\t})\r\n\t\t\t.catch(e => console.error(e));\r\n\t\t}, 2000);\r\n\t}\r\n\tgetUsersInfo (ids) {\r\n\t\tconst strFriendsIds = ids.slice(0, 100).join(',');\r\n\t\treturn Users.getUsers({\r\n\t\t\tuser_ids: strFriendsIds,\r\n\t\t\tfields: 'photo_200_orig,status',\r\n\t\t\taccess_token: this.props.access_token\r\n\t\t});\r\n\t}\r\n\tdeleteFriend (user_id) {\r\n\t\treturn () => {\r\n\t\t\tFriends.deleteFriends({\r\n\t\t\t\tuser_id,\r\n\t\t\t\taccess_token: this.props.access_token\r\n\t\t\t})\r\n\t\t\t.then(data => {\r\n\t\t\t\tif(data.error) {\r\n\t\t\t\t\tconsole.error('Ошибка удаления', data.error);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst indexDelFriend = this.state.usersInfo.findIndex(item => item.id === user_id);\r\n\t\t\t\t\tthis.state.usersInfo.splice(indexDelFriend, 1);\r\n\t\t\t\t\tthis.forceUpdate();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(e => console.error(e));\r\n\t\t};\r\n\t}\r\n\tdeleteAllFriends () {\r\n\t\tconst isClearInterval = !this.state.usersInfo.length;\r\n\t\tthis.setState({isDelAllFriends: true});\r\n\t\tthis.intervalDeleteAllFriends = setInterval(() => {\r\n\t\t\tif (isClearInterval) clearInterval(this.intervalDeleteAllFriends);\r\n\r\n\t\t\tFriends.deleteFriends({\r\n\t\t\t\tuser_id: this.state.usersInfo[0].id,\r\n\t\t\t\taccess_token: this.props.access_token\r\n\t\t\t})\r\n\t\t\t.then(data => {\r\n\t\t\t\tif(data.error) {\r\n\t\t\t\t\tconsole.error('Ошибка удаления', data.error);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.state.usersInfo.splice(0, 1);\r\n\t\t\t\t\tthis.setState(state => state.progress++);\r\n\t\t\t\t\tthis.forceUpdate();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(e => console.error(e));\r\n\t\t}, 3000);\r\n\t}\r\n\tcancelDelFriends () {\r\n\t\tclearInterval(this.interval);\r\n\t\tthis.setState({isDelAllFriends: false });\r\n\t}\r\n\tprev (e) {\r\n\t\tclearInterval(this.subscribersInterval);\r\n\t\tclearInterval(this.intervalDeleteAllFriends);\r\n\t\tthis.props.go(e);\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tthis.getOutgoingRequests();\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Panel id={this.props.id}>\r\n\t\t\t\t<PanelHeader\r\n\t\t\t\t\tleft={<HeaderButton onClick={this.prev.bind(this)} data-to=\"home\">\r\n\t\t\t\t\t\t{this.osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t\t\t</HeaderButton>}\r\n\t\t\t\t>\r\n\t\t\t\t\tИсходящие заявки\r\n\t\t\t\t</PanelHeader>\r\n\t\t\t\t<Group title=\"\">\r\n\t\t\t\t\t<Div style={{display: 'flex', zIndex: 100}}>\r\n\t\t\t\t\t\t<Button size=\"l\" stretched style={{ marginRight: 8 }} onClick={this.deleteAllFriends.bind(this)}>Отменить у всех</Button>\r\n\t\t\t\t\t\t<Button size=\"l\" stretched level=\"secondary\" onClick={this.cancelDelFriends.bind(this)}>Отмена</Button>\r\n\t\t\t\t\t</Div>\r\n\t\t\t\t\t{this.state.isDelAllFriends &&\r\n\t\t\t\t\t\t<Cell description={`Отменено ${this.state.progress} / ${this.state.countOutgoingRequests}`}>\r\n\t\t\t\t\t\t\t<Progress value={this.state.progress} />\r\n\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Group>\r\n\t\t\t\t<Group title={`Исходящие заявки в друзья ${this.state.usersInfo.length}`}>\r\n\t\t\t\t\t{\tthis.state.isPreloader &&\r\n\t\t\t\t\t\t<Cell size=\"l\">\r\n\t\t\t\t\t\t\t<Spinner size=\"large\" style={{ margin: '150px 0' }} />\r\n\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.usersInfo.map((friend, index) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Cell\r\n\t\t\t\t\t\t\t\t\tsize=\"l\"\r\n\t\t\t\t\t\t\t\t\tdescription={friend.status || 'Статус не установлен'}\r\n\t\t\t\t\t\t\t\t\tbefore={<Avatar src={friend.photo_200_orig} />}\r\n\t\t\t\t\t\t\t\t\tbottomContent={<Button onClick={this.deleteFriend(friend.id)}>Отменить заявку</Button>}\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{`${friend.first_name} ${friend.last_name}`}\r\n\t\t\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</Group>\r\n\t\t\t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nVueOutgoingRequests.propTypes = {\r\n\tgo: PropTypes.func.isRequired,\r\n\taccess_token: PropTypes.string.isRequired\r\n};\r\n\r\nexport default VueOutgoingRequests;\r\n","import {View} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport React from 'react';\nimport connect from '@vkontakte/vkui-connect-promise';\n\nimport {Users} from './api';\n\nimport Home from './panels/Home';\nimport VueDefault from './panels/VueDefault';\nimport VueFriends from './panels/VueFriends';\nimport VueMyLikes from './panels/VueMyLikes';\nimport VueOutgoingRequests from './panels/VueOutgoingRequests';\n\n//https://oauth.vk.com/authorize?client_id=6076877&display=page&redirect_uri=&scope=likes+notifications+post+wall+friends+status&response_type=token&v=&state=\n\nclass App extends React.Component {\n    constructor (props) {\n        super(props);\n\n        this.state = {\n            activePanel: 'home',\n            fetchedUser: null,\n            access_token: '77e1bd20937265f0c7459629d57a028d284fc0f4c5c78669076d4340ebb438d6faa3d50f623da22619479',\n        };\n    }\n\n    componentDidMount () {\n        // this.getUserInfo();\n\n        connect.send('VKWebAppGetAuthToken', {'app_id': '6940370', 'scope': 'friends,pages,wall,stats'})\n            .then(res => {\n                this.setState({access_token: res.type.data.access_token});\n                console.log(res.type.data.access_token);\n            })\n            .catch(e => console.error('ERR VKWebAppGetAuthToken', e));\n    }\n\n    getUserInfo () {\n        Users.getUsers({\n            fields: 'photo_200,status,city',\n            access_token: this.state.access_token\n        })\n            .then(data => {\n                this.setState({fetchedUser: data.response[0]});\n            })\n            .catch(e => console.error(e));\n    }\n\n    go = (e) => {\n        this.setState({activePanel: e.currentTarget.dataset.to});\n    };\n\n    render () {\n        return (\n            <View activePanel={this.state.activePanel}>\n                <Home id=\"home\" fetchedUser={this.state.fetchedUser} go={this.go}\n                      access_token={this.state.access_token}/>\n                <VueDefault\n                    id=\"default\"\n                    go={this.go}\n                    access_token={this.state.access_token}\n                />\n                <VueFriends\n                    id=\"friends\"\n                    go={this.go}\n                    access_token={this.state.access_token}\n                />\n                <VueOutgoingRequests\n                    id=\"subscribers\"\n                    go={this.go}\n                    access_token={this.state.access_token}\n                />\n                <VueMyLikes\n                    id=\"my-likes\"\n                    go={this.go}\n                    access_token={this.state.access_token}\n                />\n            </View>\n        );\n    }\n}\n\nexport default App;\n","import connect from '@vkontakte/vkui-connect-promise';\n\nimport React from 'react';\n\nimport ReactDOM from 'react-dom';\n\nimport 'core-js/es6/map';\nimport 'core-js/es6/set';\n\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK App\nconnect.send('VKWebAppInit', {})\n    .then(data => console.log('VKWebAppInit success:', data))\n    .catch(e => console.error('VKWebAppInit error:', e));\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}