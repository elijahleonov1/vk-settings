{"version":3,"sources":["store/user/actionType.js","store/user/reducer.js","store/friends/actionType.js","store/friends/reducer.js","store/search/actionType.js","store/search/reducer.js","store/reducers.js","utils/api/vk.js","store/user/action.js","store/friends/action.js","store/search/action.js","components/User.js","containers/Home.js","components/RefreshList.js","components/HeaderPanel.js","containers/Friends/Friends.js","containers/Friends/FriendsInInstagram.js","containers/search/Search.js","App.js","index.js"],"names":["SET_USER","userInitialState","photo_200","first_name","last_name","city","title","user","state","arguments","length","undefined","action","type","Object","objectSpread","payload","getUser","FETCHED_FRIENDS","UPDATE_FRIENDS","users","instagramUsers","friends","toConsumableArray","filter","instagram","concat","getFriends","getFriendsInInstagram","FETCHED_SEARCH","initialState","q","search","getSearch","combineReducers","v","initStore","access_token","dateTime","scope","clearStorage","fetchedAccessToken","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","response","wrap","_context","prev","next","connect","send","app_id","sent","data","abrupt","t0","Error","message","stop","_x","apply","this","getAccessToken","_ref2","_callee2","newTime","oldTime","diffTime","updateScope","oneFetched","_context2","Date","now","localStorage","_x2","_ref3","_callee3","_context3","_ref4","_callee4","count","offset","params","_args4","_context4","fields","method","items","fetchedSearch","_ref6","_callee5","_ref5","_ref5$q","_ref5$offset","_ref5$limit","limit","_ref5$filters","filters","_ref5$fields","_ref5$search_global","search_global","_context5","_x3","fetchedUser","dispatch","fetchedFriends","setFetching","updateFriends","fetchenSearch","User","platform","size","id","photo_50","photo_100","photo_200_orig","country","description","bdate","url","connectionsType","connections","react_default","createElement","vkui","key","before","src","onClick","window","location","href","openUrl","defaultProps","selectUser","props","go","_useState","useState","_useState2","slicedToArray","isFetching","setIsFetching","useEffect","userActions","useFetchedUser","onRefresh","setTimeout","components_User","assign","data-to","asideContent","chevron_default","RefreshList","handleScroll","handleRefresh","list","footerNameCount","component","groupTitle","children","onScroll","style","display","alignItems","flexDirection","marginTop","map","item","cloneElement","osname","HeaderPanel","handelClick","dataTo","left","IOS","chevron_back_default","back_default","selectFriends","_useState3","_useState4","setSearch","_useState5","_useState6","userSearch","setUserSearch","_useState7","_useState8","offsetFriends","setOffsetFriends","frendsActions","addEventListener","e","scrollHeight","target","documentElement","clientHeight","pageYOffset","components_HeaderPanel","value","onChange","searchUsers","status","domain","toLowerCase","indexOf","onClose","components_RefreshList","ListItem","_ref2$profile","profile","selectSearch","searchActions","Search_ListItem","App","activePanel","setActivePanel","currentTarget","dataset","to","containers_Home","containers_Friends_Friends","Friends_FriendsInInstagram","Search","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.618ff4c5.chunk.js","sourcesContent":["export const SET_USER = 'SET_USER';","import { SET_USER } from './actionType';\r\n\r\nconst userInitialState = {\r\n\tphoto_200: 'https://pp.userapi.com/c841034/v841034569/3b8c1/pt3sOw_qhfg.jpg',\r\n\tfirst_name: 'Вася',\r\n\tlast_name: 'Васечкин',\r\n\tcity: { title: 'New York' }\r\n};\r\n\r\nexport default function user (state = userInitialState, action = {}) {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t};\r\n};\r\n\r\nexport const getUser = (state) => {\r\n\treturn state.user;\r\n};","export const FETCHED_FRIENDS = 'FETCHED_FRIENDS';\r\nexport const UPDATE_FRIENDS = 'UPDATE_FRIENDS';","import { FETCHED_FRIENDS, UPDATE_FRIENDS } from './actionType';\r\n\r\nconst userInitialState = {\r\n\tusers: [],\r\n\tinstagramUsers: []\r\n};\r\n\r\n\r\nexport default function friends (state = userInitialState, action = {}) {\r\n\tswitch (action.type) {\r\n\t\tcase FETCHED_FRIENDS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: [...action.users],\r\n\t\t\t\tinstagramUsers: [...action.users.filter(user => user.instagram)]\r\n\t\t\t};\r\n\t\tcase UPDATE_FRIENDS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: [...state.users, ...action.users],\r\n\t\t\t\tinstagramUsers: [...state.instagramUsers, ...action.users.filter(user => user.instagram)]\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t};\r\n};\r\n\r\nexport const getFriends = (state) => {\r\n\treturn state.friends.users;\r\n};\r\n\r\nexport const getFriendsInInstagram = (state) => {\r\n\treturn state.friends.instagramUsers;\r\n};","export const FETCHED_SEARCH = 'FETCHED_SEARCH';","import {FETCHED_SEARCH} from './actionType';\r\n\r\nconst initialState = {\r\n\tq: []\r\n};\r\n\r\nexport default function search (state=initialState, action={}) {\r\n\tswitch(action.type) {\r\n\t\tcase FETCHED_SEARCH:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tq: action.search.filter(q => q.type === 'profile')\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const getSearch = (state) => {\r\n\treturn state.search.q;\r\n};","import {combineReducers} from 'redux';\r\nimport user, * as selectUser from './user/reducer';\r\nimport friends, * as selectFriends from './friends/reducer';\r\nimport search, * as selectSearch from './search/reducer';\r\n\r\nexport default combineReducers({\r\n\tuser,\r\n\tfriends,\r\n\tsearch\r\n});\r\n\r\nexport {\r\n\tselectUser,\r\n\tselectFriends,\r\n\tselectSearch\r\n}","import connect from '@vkontakte/vkui-connect-promise';\r\n\r\nconst v = '5.95';\r\nconst app_id = 7080438;\r\n\r\nconst initStore = {\r\n\taccess_token: '',\r\n\tdateTime: '',\r\n\tscope: ''\r\n};\r\n\r\nconst clearStorage = () => {\r\n\tinitStore.access_token = '';\r\n\tinitStore.dateTime = '';\r\n\tinitStore.scope = '';\r\n};\r\n\r\nconst fetchedAccessToken = async (scope) => {\r\n\ttry {\r\n\t\tconst response = await connect.send('VKWebAppGetAuthToken', {app_id, scope});\r\n\t\treturn await response.data.access_token;\r\n\t} catch (err) {\r\n\t\tthrow Error(err.message);\r\n\t}\r\n};\r\n\r\nconst getAccessToken = async (scope) => {\r\n\ttry {\r\n\t\tconst resTime = 1000000;\r\n\t\tconst newTime = Date.now();\r\n\t\tconst oldTime = initStore.dateTime || (Date.now() - resTime + 1);\r\n\t\tconst diffTime = newTime - oldTime;\r\n\t\tconst updateScope = initStore.scope !== scope;\r\n\t\tconst oneFetched = !initStore.oneFetched;\r\n\r\n\t\tif ((!localStorage.access_token && diffTime > resTime || updateScope) && oneFetched) {\r\n\t\t\tconst access_token = await fetchedAccessToken(scope);\r\n\t\t\tinitStore.access_token = access_token;\r\n\t\t\tinitStore.dateTime = newTime;\r\n\t\t\tinitStore.scope = scope;\r\n\t\t}\r\n\t\treturn await initStore.access_token;\r\n\t} catch (err) {\r\n\t\tclearStorage();\r\n\t\tthrow Error(err.message);\r\n\t}\r\n};\r\n\r\nexport const getUser = async () => {\r\n\ttry{\r\n\t\tconst response = await connect.send('VKWebAppGetUserInfo', {});\r\n\t\treturn await response.data;\r\n\t} catch(err) {\r\n\t\tthrow Error(err.message);\r\n\t}\r\n};\r\n\r\nexport const getFriends = async (count=100, offset=0) => {\r\n\ttry{\r\n\t\tconst access_token = await getAccessToken('friends, groups');\r\n\t\tconst method = 'friends.get';\r\n\t\tconst fields = 'connections,nickname,domain,sex,bdate,city,country,timezone,photo_50,photo_100,photo_200_orig,has_mobile,contacts,education,online,relation,last_seen,status,can_write_private_message,can_see_all_posts,can_post,universities';\r\n\t\tconst params = {access_token, v, fields, count, offset};\r\n\t\tconst response = await connect.send('VKWebAppCallAPIMethod', {method, params});\r\n\t\treturn await response.data.response.items;\r\n\t} catch (err) {\r\n\t\tclearStorage();\r\n\t\tthrow Error(err.message);\r\n\t}\r\n};\r\n\r\nexport const fetchedSearch = async ({q='', offset=0, limit=10, filters='', fields='', search_global=1}) => {\r\n\ttry{\r\n\t\tconst access_token = await getAccessToken('friends, groups');\r\n\t\tconst method = 'search.getHints';\r\n\t\tconst params = { access_token, v, q, offset, limit, filters, search_global };\r\n\t\tconst response = await connect.send('VKWebAppCallAPIMethod', {method, params});\r\n\t\treturn await response.data.response.items;\r\n\t} catch (err) {\r\n\t\tclearStorage();\r\n\t\tthrow Error(err.message);\r\n\t}\r\n};","import {SET_USER} from './actionType';\r\nimport {getUser} from '../../utils/api/vk';\r\n\r\nexport const fetchedUser = () => async (dispatch) => {\r\n\tconst data = await getUser();\r\n\tdispatch({type: SET_USER, payload: data});\r\n};","import { FETCHED_FRIENDS, UPDATE_FRIENDS } from './actionType';\r\nimport {getFriends} from '../../utils/api/vk';\r\n\r\nexport const fetchedFriends = (setFetching) => async (dispatch) => {\r\n\tconst data = await getFriends();\r\n\tdispatch({type: FETCHED_FRIENDS, users: data});\r\n\tif (setFetching) { setFetching(); }\r\n};\r\n\r\nexport const updateFriends = (offset=0) => async (dispatch) => {\r\n\tconst data = await getFriends(100, offset);\r\n\tdispatch({type: UPDATE_FRIENDS, users: [...data]});\r\n};","import {FETCHED_SEARCH} from './actionType';\r\nimport {fetchedSearch} from '../../utils/api/vk';\r\n\r\nexport const fetchenSearch = ({q, filters, fields}) => async (dispatch) => {\r\n\tconst search = await fetchedSearch({\r\n\t\tq,\r\n\t\tfilters,\r\n\t\tfields\r\n\t});\r\n\tdispatch({type: FETCHED_SEARCH, search: [...search]});\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Cell,Avatar,platform,ANDROID} from '@vkontakte/vkui';\r\n\r\nconst INSTAGRAM = 'instagram';\r\nconst VK = 'vk';\r\nconst osname = platform();\r\n\r\nconst connectionsType = ({id, type, instagram}) => {\r\n\tswitch(type) {\r\n\t\tcase VK: return `https://vk.com/id${id}`;\r\n\t\tcase INSTAGRAM: return `https://www.instagram.com/${instagram}`;\r\n\t\tdefault: return `https://vk.com/id${id}`;\r\n\t}\r\n};\r\n\r\nconst openUrl = (url) => {\r\n\twindow.location.href = url;\r\n};\r\n\r\nconst  User = ({\r\n\tsize,\r\n\tid,\r\n\tphoto_50,\r\n\tphoto_100,\r\n\tphoto_200,\r\n\tphoto_200_orig,\r\n\tcity,\r\n\tcountry,\r\n\tfirst_name,\r\n\tlast_name,\r\n\tbdate,\r\n\tdescription,\r\n\tinstagram,\r\n\tconnections\r\n}) => {\r\n\tconst url = connectionsType({ id, type: connections, instagram });\r\n\treturn (\r\n\t\t<Cell\r\n\t\t\tkey={id}\r\n\t\t\tbefore={<Avatar\r\n\t\t\t\t\tsize={size}\r\n\t\t\t\t\tsrc={photo_200_orig || photo_200 || photo_100 || photo_50}\r\n\t\t\t\t/>}\r\n\t\t\tsize=\"l\"\r\n\t\t\tdescription={description || `${city.title} ${country.title}`}\r\n\t\t\tonClick={() => openUrl(url)}\r\n\t\t>\r\n\t\t\t{`${first_name} ${last_name}`}\r\n\t\t</Cell>\r\n\t);\r\n}\r\n\r\nUser.propTypes = {\r\n\tid: PropTypes.number,\r\n\tsize: PropTypes.number,\r\n\tphoto_50: PropTypes.string,\r\n\tphoto_100: PropTypes.string,\r\n\tphoto_200: PropTypes.string,\r\n\tphoto_200_orig: PropTypes.string,\r\n\tfirst_name: PropTypes.string,\r\n\tlast_name: PropTypes.string,\r\n\tbdate: PropTypes.string,\r\n\tdescription: PropTypes.string,\r\n\tconnections: PropTypes.string,\r\n\tinstagram: PropTypes.string,\r\n\tcity: PropTypes.shape({title: PropTypes.string}),\r\n\tcountry: PropTypes.shape({title: PropTypes.string})\r\n};\r\n\r\nUser.defaultProps = {\r\n\tsize: 56,\r\n\tcity: {title: ''},\r\n\tcountry: {title: ''}\r\n};\r\n\r\nexport default User;","import React, {useEffect, useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {selectUser} from '../store/reducers';\r\nimport {userActions} from '../store/actions';\r\n\r\nimport {Panel, List, Group, PanelHeader, Cell, PullToRefresh} from '@vkontakte/vkui';\r\nimport Icon24Chevron from '@vkontakte/icons/dist/24/chevron';\r\n\r\nimport User from '../components/User';\r\n\r\nconst useFetchedUser = (dispatch) => {\r\n\tuseEffect(() => {\r\n\t\tconst {fetchedUser} = userActions;\r\n\t\tdispatch(fetchedUser());\r\n\t}, []);\r\n};\r\n\r\nconst Home = (props) => {\r\n\tconst {id, go, fetchedUser, dispatch} = props;\r\n\tconst [isFetching, setIsFetching] = useState(false);\r\n\tuseFetchedUser(dispatch);\r\n\r\n\tconst onRefresh = () => {\r\n\t\tsetIsFetching(true);\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetIsFetching(false);\r\n\t\t}, 2000);\r\n\t};\r\n\r\n\treturn(\r\n\t\t<Panel id={id}>\r\n\t\t\t<PanelHeader>Главная</PanelHeader>\r\n\t\t\t\r\n\t\t\t<PullToRefresh\r\n\t\t\t\tonRefresh={onRefresh}\r\n\t\t\t\tisFetching={isFetching}>\r\n\t\t\t\t<Group title=\"\">\r\n\t\t\t\t\t<User size={48} {...fetchedUser} go={go} />\r\n\t\t\t\t</Group>\r\n\r\n\t\t\t\t<Group title=\"\">\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t<Cell\r\n\t\t\t\t\t\t\tonClick={go}\r\n\t\t\t\t\t\t\tdata-to='friends'\r\n\t\t\t\t\t\t\tasideContent={<Icon24Chevron />}\r\n\t\t\t\t\t\t>Друзья</Cell>\r\n\t\t\t\t\t\t<Cell\r\n\t\t\t\t\t\t\tonClick={go}\r\n\t\t\t\t\t\t\tdata-to='friendsInInstagram'\r\n\t\t\t\t\t\t\tasideContent={<Icon24Chevron />}\r\n\t\t\t\t\t\t>Друзья в инстаграмме</Cell>\r\n\t\t\t\t\t\t<Cell\r\n\t\t\t\t\t\t\tonClick={go}\r\n\t\t\t\t\t\t\tdata-to='search'\r\n\t\t\t\t\t\t\tasideContent={<Icon24Chevron />}\r\n\t\t\t\t\t\t>Поиск</Cell>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</Group>\r\n\t\t\t</PullToRefresh>\r\n\t\t</Panel>\r\n\t);\r\n}\r\n\r\nHome.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tfetchedUser: selectUser.getUser(state)\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Home);\r\n","import React, {cloneElement} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Footer,PullToRefresh,Group,List,Spinner} from '@vkontakte/vkui';\r\n\r\nconst RefreshList = ({\r\n\thandleScroll,\r\n\thandleRefresh,\r\n\tisFetching,\r\n\tlist,\r\n\tcomponent,\r\n\tfooterNameCount,\r\n\tgroupTitle,\r\n\tchildren\r\n}) => {\r\n\t\r\n\treturn(\r\n\t\t<PullToRefresh\r\n\t\t\tonScroll={handleScroll}\r\n\t\t\tonRefresh={handleRefresh}\r\n\t\t\tisFetching={isFetching}>\r\n\t\t\t{!list.length && !isFetching && <div style={{ display: 'flex', alignItems: 'center', flexDirection: 'column' }}>\r\n\t\t\t\t<Spinner size=\"regular\" style={{ marginTop: 20 }} />\r\n\t\t\t</div>}\r\n\t\t\t{list.length > 0 && <Group title={groupTitle}>\r\n\t\t\t\t{list.map((item, key) => (\r\n\t\t\t\t\t<List key={item.id || key}>\r\n\t\t\t\t\t\t{cloneElement(children, item)}\r\n\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t))}\r\n\t\t\t</Group>}\r\n\t\t\t<Footer>{list.length} {footerNameCount}</Footer>\r\n\t\t</PullToRefresh>\r\n\t);\r\n}\r\n\r\nRefreshList.propTypes = {\r\n\thandleScroll: PropTypes.func,\r\n\thandleRefresh: PropTypes.func.isRequired,\r\n\tisFetching: PropTypes.bool.isRequired,\r\n\tlist: PropTypes.array.isRequired,\r\n\tgroupTitle: PropTypes.string,\r\n\tfooterNameCount: PropTypes.string,\r\n};\r\n\r\nRefreshList.defaultProps = {\r\n\thandleScroll: () => {},\r\n};\r\n\r\nexport default RefreshList;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {\r\n\tPanelHeader,\r\n\tHeaderButton,\r\n\tplatform,\r\n\tIOS\r\n} from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nconst osname = platform();\r\n\r\nconst HeaderPanel = ({\r\n\thandelClick,\r\n\tdataTo,\r\n\ttitle\r\n}) => {\r\n\treturn (\r\n\t\t<PanelHeader\r\n\t\t\tleft={<HeaderButton onClick={handelClick} data-to={dataTo}>\r\n\t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t</HeaderButton>}\r\n\t\t>{title}</PanelHeader>\r\n\t);\r\n}\r\n\r\nHeaderPanel.propTypes = {\r\n\thandelClick: PropTypes.func.isRequired,\r\n\tdataTo: PropTypes.string.isRequired,\r\n\ttitle: PropTypes.string\r\n};\r\n\r\nexport default HeaderPanel;","import React, {useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {selectFriends} from '../../store/reducers';\r\nimport {frendsActions} from '../../store/actions';\r\n\r\nimport {Panel,Search} from '@vkontakte/vkui';\r\n\r\nimport User from '../../components/User';\r\nimport RefreshList from '../../components/RefreshList';\r\nimport HeaderPanel from '../../components/HeaderPanel';\r\n\r\nconst Friends = ({id, go, users, dispatch}) => {\r\n\tconst [isFetching, setIsFetching] = useState(false);\r\n\tconst [search, setSearch] = useState('');\r\n\tconst [userSearch, setUserSearch] = useState('');\r\n\tconst [offsetFriends, setOffsetFriends] = useState(100);\r\n\tconst {updateFriends, fetchedFriends} = frendsActions;\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener('scroll', handleScroll);\r\n\t\tdispatch(fetchedFriends(setFetching));\r\n\t}, []);\r\n\r\n\tconst onRefresh = () => {\r\n\t\tsetIsFetching(true);\r\n\t\tdispatch(fetchedFriends(setFetching));\r\n\t};\r\n\r\n\tconst setFetching = () => setIsFetching(false);\r\n\r\n\tconst handleScroll = (e) => {\r\n\t\tconst scrollHeight = e.target.documentElement.scrollHeight;\r\n\t\tconst clientHeight = e.target.documentElement.clientHeight;\r\n\t\tconst scrollY = window.pageYOffset + 5;\r\n\t\tif (scrollY >= scrollHeight - clientHeight) {\r\n\t\t\tdispatch(updateFriends(offsetFriends));\r\n\t\t\tsetOffsetFriends(offsetFriends + 100);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSearch = (search) => {\r\n\t\tconst searchUsers = users.filter(({first_name, last_name, status, domain}) => {\r\n\t\t\tconst q = `${first_name} ${last_name} ${domain} ${status}`.toLowerCase();\r\n\t\t\treturn q.indexOf(search.toLowerCase()) > -1;\r\n\t\t});\r\n\t\tsetSearch(search);\r\n\t\tsetUserSearch(searchUsers);\r\n\t};\r\n\r\n\tconst handelClose = () => {\r\n\t\tsetSearch('');\r\n\t\tsetUserSearch('');\r\n\t};\r\n\r\n\treturn(\r\n\t\t<Panel id={id}>\r\n\t\t\t<HeaderPanel title='Друзья' handelClick={go} dataTo='home' />\r\n\t\t\t{users.length > 0 && <Search value={search} onChange={handleSearch} onClose={handelClose}/>}\r\n\t\t\t<RefreshList\r\n\t\t\t\thandleScroll={handleScroll}\r\n\t\t\t\thandleRefresh={onRefresh}\r\n\t\t\t\tisFetching={isFetching}\r\n\t\t\t\tlist={!userSearch.length ? users : userSearch}\r\n\t\t\t\tfooterNameCount='друзей'\r\n\t\t\t>\r\n\t\t\t\t<User size={48} go={go} />\r\n\t\t\t\t<span></span>\r\n\t\t\t</RefreshList>\r\n\t\t</Panel>\r\n\t);\r\n}\r\n\r\nFriends.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tusers: selectFriends.getFriends(state)\r\n});\r\nexport default connect(mapStateToProps, null)(Friends);","import React, {useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {selectFriends} from '../../store/reducers';\r\nimport {frendsActions} from '../../store/actions';\r\n\r\nimport {Panel} from '@vkontakte/vkui';\r\n\r\nimport User from '../../components/User';\r\nimport RefreshList from '../../components/RefreshList';\r\nimport HeaderPanel from '../../components/HeaderPanel';\r\n\r\nconst FriendsInInstagram = ({id, go, users, dispatch}) => {\r\n\tlet offsetFriends = 100;\r\n\tconst [isFetching, setIsFetching] = useState(false);\r\n\tconst {updateFriends, fetchedFriends} = frendsActions;\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener('scroll', handleScroll);\r\n\t\tdispatch(fetchedFriends(setFetching));\r\n\t}, []);\r\n\r\n\tconst onRefresh = () => {\r\n\t\tsetIsFetching(true);\r\n\t\tdispatch(fetchedFriends(setFetching));\r\n\t};\r\n\r\n\tconst setFetching = () => setIsFetching(false);\r\n\r\n\tconst handleScroll = (e) => {\r\n\t\tconst scrollHeight = e.target.documentElement.scrollHeight;\r\n\t\tconst clientHeight = e.target.documentElement.clientHeight;\r\n\t\tconst scrollY = window.pageYOffset + 5;\r\n\t\tif (scrollY >= scrollHeight - clientHeight) {\r\n\t\t\tdispatch(updateFriends(offsetFriends));\r\n\t\t\toffsetFriends += 100;\r\n\t\t}\r\n\t}\r\n\r\n\treturn(\r\n\t\t<Panel id={id}>\r\n\t\t\t<HeaderPanel title='Друзья' handelClick={go} dataTo='home' />\r\n\t\t\t<RefreshList\r\n\t\t\t\thandleScroll={handleScroll}\r\n\t\t\t\thandleRefresh={onRefresh}\r\n\t\t\t\tisFetching={isFetching}\r\n\t\t\t\tlist={users}\r\n\t\t\t\tfooterNameCount='друзей'\r\n\t\t\t>\r\n\t\t\t\t<User size={56} go={go} connections='instagram' />\r\n\t\t\t</RefreshList>\r\n\t\t</Panel>\r\n\t);\r\n}\r\n\r\nFriendsInInstagram.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tusers: selectFriends.getFriendsInInstagram(state)\r\n});\r\nexport default connect(mapStateToProps, null)(FriendsInInstagram);","import React, {useState} from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {selectSearch} from '../../store/reducers';\r\nimport {searchActions} from '../../store/actions';\r\n\r\nimport {Panel, Search, Cell} from '@vkontakte/vkui';\r\n\r\nimport RefreshList from '../../components/RefreshList';\r\nimport HeaderPanel from '../../components/HeaderPanel';\r\n\r\nconst Searchs = ({id, go, dispatch, fetchedSearch}) => {\r\n\tconst [isFetching, setIsFetching] = useState(false);\r\n\tconst [search, setSearch] = useState('');\r\n\tconst {fetchenSearch} = searchActions;\r\n\r\n\tconst onRefresh = () => {\r\n\t\tsetIsFetching(true);\r\n\t\tsetTimeout(() => {\r\n\t\t\tdispatch(fetchenSearch({\r\n\t\t\t\tsearch,\r\n\t\t\t\tfilters: 'friends',\r\n\t\t\t\tfields: 'crop_photo'\r\n\t\t\t}));\r\n\t\t\tsetIsFetching(false);\r\n\t\t}, 2000);\r\n\t};\r\n\r\n\tconst handleSearch = (q) => {\r\n\t\tsetSearch(q);\r\n\t\tdispatch(fetchenSearch({\r\n\t\t\tq,\r\n\t\t\tfilters: 'friends',\r\n\t\t\tfields: 'crop_photo'\r\n\t\t}));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Panel id={id}>\r\n\t\t\t<HeaderPanel handelClick={go} dataTo='home' title='Поиск' />\r\n\t\t\t<Search value={search} onChange={handleSearch}/>\r\n\r\n\t\t\t<RefreshList\r\n\t\t\t\thandleRefresh={onRefresh}\r\n\t\t\t\tisFetching={isFetching}\r\n\t\t\t\tlist={fetchedSearch}\r\n\t\t\t\tfooterNameCount='найдено'\r\n\t\t\t>\r\n\t\t\t\t<ListItem />\r\n\t\t\t</RefreshList>\r\n\t\t</Panel>\r\n\t);\r\n};\r\n\r\nconst ListItem = ({profile: {first_name, last_name, id}, description}) => {\r\n\treturn (\r\n\t\t<Cell\r\n\t\t\tkey={id}\r\n\t\t\tdescription={description}\r\n\t\t\tonClick={() => window.location.assign(`https://vk.com/id${id}`)}\r\n\t\t>\r\n\t\t\t{`${first_name} ${last_name}`}\r\n\t\t</Cell>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tfetchedSearch: selectSearch.getSearch(state)\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Searchs);","import React, {useState} from 'react';\n\nimport {View} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './containers/Home';\nimport Friends from './containers/Friends/Friends';\nimport FriendsInInstagram from './containers/Friends/FriendsInInstagram';\nimport Search from './containers/search/Search';\n\nconst App = (props) => {\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst go = (e) => setActivePanel(e.currentTarget.dataset.to);\n\n\treturn (\n\t\t<View activePanel={activePanel}>\n\t\t\t<Home id=\"home\" go={go} />\n\t\t\t<Friends id=\"friends\" go={go} />\n\t\t\t<FriendsInInstagram id=\"friendsInInstagram\" go={go} />\n\t\t\t<Search id=\"search\" go={go} />\n\t\t</View>\n\t);\n};\n\nexport default App;","import 'core-js/es6/map';\nimport 'core-js/es6/set';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {createStore, applyMiddleware} from 'redux';\nimport {Provider} from 'react-redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './store/reducers';\n\nimport connect from '@vkontakte/vkui-connect-promise';\nimport App from './App';\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\n\nconst CombineApp = () => (\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>\n);\n\nconnect.send('VKWebAppInit', {});\nReactDOM.render(<CombineApp />, document.getElementById('root'));\n"],"sourceRoot":""}