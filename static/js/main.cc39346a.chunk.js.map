{"version":3,"sources":["store/user/actionType.js","store/user/reducer.js","store/accessToken/actionType.js","store/accessToken/reducer.js","store/friends/actionType.js","store/friends/reducer.js","store/reducers.js","utils/api/vk.js","store/user/action.js","store/friends/action.js","components/User.js","containers/HomeContainer.js","containers/Friends/FriendsContainer.js","App.js","index.js"],"names":["SET_USER","userInitialState","photo_200","first_name","last_name","city","title","user","state","arguments","length","undefined","action","type","Object","objectSpread","payload","getUser","FETCH_ACCESS_TOKEN","initialState","FETCHED_FRIENDS","friends","concat","toConsumableArray","getFriends","combineReducers","accessToken","actions","v","access_token","localStorage","getItem","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","response","wrap","_context","prev","next","connect","send","sent","data","abrupt","t0","Error","stop","apply","this","_ref3","_callee3","params","_context3","console","log","method","users","fetchedUser","dispatch","_x","fetchedFriends","User","react_default","createElement","vkui","before","src","description","rootSelects","props","id","go","useEffect","rootActions","useFetchedUser","components_User","expandable","onClick","data-to","osname","platform","useFetchedFriends","left","IOS","chevron_back_default","back_default","map","App","_useState","useState","_useState2","slicedToArray","activePanel","setActivePanel","e","currentTarget","dataset","to","HomeContainer","Friends_FriendsContainer","store","createStore","rootReducer","compose","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","app_id","scope","setItem","fetchedAccessToken","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.cc39346a.chunk.js","sourcesContent":["export const SET_USER = 'SET_USER';","import { SET_USER } from './actionType';\r\n\r\nconst userInitialState = {\r\n\tphoto_200: '',\r\n\tfirst_name: 'Вася',\r\n\tlast_name: 'Васечкин',\r\n\tcity: { title: 'New York' }\r\n};\r\n\r\nexport default function user (state = userInitialState, action = {}) {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t};\r\n};\r\n\r\nexport const getUser = (state) => {\r\n\treturn state.user;\r\n};","export const FETCH_ACCESS_TOKEN  = 'FETCH_ACCESS_TOKEN';\r\nexport const UPDATE_ACCESS_TOKEN = 'UPDATE_ACCESS_TOKEN';\r\nexport const DELETE_ACCESS_TOKEN = 'DELETE_ACCESS_TOKEN';","import {FETCH_ACCESS_TOKEN} from './actionType';\r\n\r\nconst initialState = '';\r\n\r\nexport default function accessToken(state = initialState, actions ={}) {\r\n\tswitch (actions.type) {\r\n\t\tcase FETCH_ACCESS_TOKEN:\r\n\t\t\treturn actions.payload;\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const getAccessToken = (state) => {\r\n\treturn state.accessToken;\r\n}","export const FETCHED_FRIENDS = 'FETCHED_FRIENDS';","import { FETCHED_FRIENDS } from './actionType';\r\n\r\nconst userInitialState = [];\r\n\r\nexport default function friends (state = userInitialState, action = {}) {\r\n\tswitch (action.type) {\r\n\t\tcase FETCHED_FRIENDS:\r\n\t\t\treturn [...state, ...action.payload];\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t};\r\n};\r\n\r\nexport const getFriends = (state) => {\r\n\treturn state.friends;\r\n};","import {combineReducers} from 'redux';\r\nimport user, * as selectUser from './user/reducer';\r\nimport accessToken, * as selectAccessToken from './accessToken/reducer';\r\nimport friends, * as selectFriends from './friends/reducer';\r\n\r\nexport default combineReducers({\r\n\tuser,\r\n\taccessToken,\r\n\tfriends\r\n});\r\n\r\nexport {\r\n\tselectUser,\r\n\tselectAccessToken,\r\n\tselectFriends\r\n}","import connect from '@vkontakte/vkui-connect-promise';\r\n\r\nconst v = '5.95';\r\nconst access_token = localStorage.getItem('access_token');\r\n\r\nconst getProfilesUrl = (method, opt) => {\r\n\tlet urlOpts = '';\r\n\tlet optKeys = Object.keys(opt);\r\n\toptKeys.forEach(item => urlOpts += `${item}=${opt[item]}&`);\r\n\treturn `https://api.vk.com/method/${method}?${urlOpts}&access_token=${access_token}&v=${v}`\r\n};\r\n\r\nexport const getUser = async () => {\r\n\ttry{\r\n\t\tconst response = await connect.send(\"VKWebAppGetUserInfo\", {});;\r\n\t\treturn await response.data;\r\n\t} catch(err) {\r\n\t\tthrow Error(err);\r\n\t}\r\n};\r\n\r\nexport const getAccessToken = async () => {\r\n\ttry{\r\n\t\tconst response = await connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6940370, \"scope\": \"friends,status\"});\r\n\t\treturn await response.data.access_token;\r\n\t} catch (err) {\r\n\t\tthrow Error(err);\r\n\t}\r\n};\r\n\r\nexport const getFriends = async () => {\r\n\ttry{\r\n\t\tconsole.log('------');\r\n\t\tconst method = 'friends.get';\r\n\t\tconst params = {access_token, v};\r\n\t\tconst response = await connect.send('VKWebAppCallAPIMethod', {method, params});\r\n\t\tconsole.log('------', response);\r\n\t\treturn await response.data.users;\r\n\t} catch (err) {\r\n\t\tthrow Error(err);\r\n\t}\r\n};","import {SET_USER} from './actionType';\r\nimport {getUser} from '../../utils/api/vk';\r\n\r\nexport const fetchedUser = () => async (dispatch) => {\r\n\tconst data = await getUser();\r\n\tdispatch({type: SET_USER, payload: data});\r\n};","import { FETCHED_FRIENDS } from './actionType';\r\nimport {getFriends} from '../../utils/api/vk';\r\n\r\nexport const fetchedFriends = () => async (dispatch) => {\r\n\tconst data = await getFriends();\r\n\tdispatch({type: FETCHED_FRIENDS, payload: data});\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {ListItem, Group, Avatar} from '@vkontakte/vkui';\r\n\r\nconst  User = ({fetchedUser}) => (\r\n\t<Group title=\"\">\r\n\t\t<ListItem\r\n\t\t\tbefore={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\r\n\t\t\tdescription={fetchedUser.city && fetchedUser.city.title ? fetchedUser.city.title : ''}\r\n\t\t>\r\n\t\t\t{`${fetchedUser.first_name} ${fetchedUser.last_name}`}\r\n\t\t</ListItem>\r\n\t</Group>\r\n);\r\n\r\nUser.propTypes = {\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string,\r\n\t\tcity: PropTypes.shape({\r\n\t\t\ttitle: PropTypes.string,\r\n\t\t})\r\n\t})\r\n};\r\n\r\nexport default User;","import React, {useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\n\r\nimport * as rootSelects from '../store/reducers';\r\nimport * as rootActions from '../store/actions';\r\n\r\nimport {Panel, List, Group, PanelHeader, Cell} from '@vkontakte/vkui';\r\n\r\nimport User from '../components/User';\r\n\r\nconst useFetchedUser = (dispatch) => {\r\n\tuseEffect(() => {\r\n\t\tconst {\r\n\t\t\tuserActions: {fetchedUser}\r\n\t\t} = rootActions;\r\n\r\n\t\tdispatch(fetchedUser());\r\n\t}, []);\r\n};\r\n\r\nconst Home = (props) => {\r\n\tconst {id, go, fetchedUser, dispatch} = props;\r\n\tuseFetchedUser(dispatch);\r\n\r\n\treturn(\r\n\t\t<Panel id={id}>\r\n\t\t\t<PanelHeader>Главная</PanelHeader>\r\n\r\n\t\t\t<User fetchedUser={fetchedUser} go={go} />\r\n\r\n\t\t\t<Group title=\"Переходы\">\r\n\t\t\t\t<List>\r\n\t\t\t\t\t<Cell expandable onClick={go} data-to='friends'>Друзья</Cell>\r\n\t\t\t\t\t<Cell expandable onClick={go} data-to='friends'>Друзья</Cell>\r\n\t\t\t\t\t<Cell expandable onClick={go} data-to='friends'>Друзья</Cell>\r\n\t\t\t\t</List>\r\n\t\t\t</Group>\r\n\t\t</Panel>\r\n\t);\r\n}\r\n\r\nHome.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n\tconst {\r\n\t\tselectUser: {getUser}\r\n\t} = rootSelects;\r\n\r\n\treturn {\r\n\t\tfetchedUser: getUser(state)\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(Home);\r\n","import React, {useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\n\r\nimport * as rootSelects from '../../store/reducers';\r\nimport * as rootActions from '../../store/actions';\r\n\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS} from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport User from '../../components/User';\r\n\r\nconst useFetchedFriends = (dispatch) => {\r\n\tuseEffect(() => {\r\n\t\tconst {\r\n\t\t\tfrendsActions: {fetchedFriends}\r\n\t\t} = rootActions;\r\n\r\n\t\tdispatch(fetchedFriends());\r\n\t}, []);\r\n};\r\n\r\nconst FriendsContainer = (props) => {\r\n\tconst {id, go, users, dispatch} = props;\r\n\tconst osname = platform();\r\n\r\n\tuseFetchedFriends(dispatch);\r\n\r\n\treturn(\r\n\t\t<Panel id={id}>\r\n\t\t\t<PanelHeader\r\n\t\t\t\tleft={<HeaderButton onClick={go} data-to=\"home\">\r\n\t\t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t\t</HeaderButton>}\r\n\t\t\t>\r\n\t\t\t\tДрузья\r\n\t\t\t</PanelHeader>\r\n\t\t\t\r\n\t\t\t{users && users.map(user => (\r\n\t\t\t\t<User fetchedUser={{\r\n\t\t\t\t\tid: user.id,\r\n\t\t\t\t\tfirst_name: user.first_name,\r\n\t\t\t\t\tlast_name: user.last_name\r\n\t\t\t\t}} go={go} />\r\n\t\t\t))}\r\n\r\n\t\t</Panel>\r\n\t);\r\n}\r\n\r\nFriendsContainer.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n\tconst {\r\n\t\tselectFriends: {getFriends}\r\n\t} = rootSelects;\r\n\r\n\treturn {\r\n\t\tusers: getFriends(state)\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(FriendsContainer);\r\n","import React, {useState} from 'react';\n\nimport {View} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport HomeContainer from './containers/HomeContainer';\nimport FriendsContainer from './containers/Friends/FriendsContainer';\n\nconst App = (props) => {\n\tconst [activePanel, setActivePanel] = useState('home');\n\n\tconst go = (e) => setActivePanel(e.currentTarget.dataset.to);\n\n\treturn (\n\t\t<View activePanel={activePanel}>\n\t\t\t<HomeContainer id=\"home\" go={go} />\n\t\t\t<FriendsContainer id=\"friends\" go={go} />\n\t\t</View>\n\t);\n};\n\nexport default App;","import 'core-js/es6/map';\nimport 'core-js/es6/set';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {createStore, applyMiddleware, compose} from 'redux';\nimport {Provider} from 'react-redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './store/reducers';\n\nimport connect from '@vkontakte/vkui-connect-promise';\nimport App from './App';\n\nconst store = createStore(rootReducer, compose(\n\t\tapplyMiddleware(thunk),\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n\t)\n);\n\nconst CombineApp = () => (\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>\n);\n\nconnect.send('VKWebAppInit', {});\n\nconst fetchedAccessToken = async () => {\n\tif (!localStorage.getItem('access_token')) {\n\t\tconst response = await connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6940370, \"scope\": \"friends\"});\n\t\tconst access_token = await response.data.access_token;\n\t\tconsole.log(response);\n\t\tlocalStorage.setItem('access_token', access_token);\n\t\tconsole.log('access_token', access_token);\n\t}\n};\n\nfetchedAccessToken();\n\nReactDOM.render(<CombineApp />, document.getElementById('root'));\n"],"sourceRoot":""}