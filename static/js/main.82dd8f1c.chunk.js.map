{"version":3,"sources":["store/user/actionType.js","store/user/reducer.js","store/friends/actionType.js","store/friends/reducer.js","store/search/actionType.js","store/search/reducer.js","store/reducers.js","utils/api/vk.js","store/user/action.js","store/friends/action.js","components/User.js","containers/Home.js","components/RefreshList.js","components/HeaderPanel.js","containers/UsersList.js","containers/Friends/Friends.js","containers/Friends/Instagram.js","containers/Friends/BannedFriends.js","App.js","index.js"],"names":["SET_USER","userInitialState","photo_200","first_name","last_name","city","title","user","state","arguments","length","undefined","action","type","Object","objectSpread","payload","getUser","FETCHED_FRIENDS","UPDATE_FRIENDS","FETCHED_INSTAGRAM_FRIENDS","UPDATE_INSTAGRAM_FRIENDS","FETCHED_BANNED_FRIENDS","UPDATE_BANNED_FRIENDS","users","instagramUsers","bannedUsers","offsetFriends","offsetInstagramFriends","offsetBannedFriends","friends","toConsumableArray","concat","filter","instagram","deactivated","offset","getFriends","getFriendsInInstagram","getBannedFriends","getOffsetFriends","getOffsetInstagramFriends","getOffsetBannedFriends","FETCHED_SEARCH","initialState","q","combineReducers","search","v","initStore","access_token","dateTime","scope","clearStorage","fetchedAccessToken","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","response","wrap","_context","prev","next","connect","send","app_id","sent","data","abrupt","t0","Error","message","stop","_x","apply","this","getAccessToken","_ref2","_callee2","newTime","oldTime","diffTime","updateScope","oneFetched","_context2","Date","now","localStorage","_x2","_ref3","_callee3","_context3","_ref4","_callee4","count","params","_args4","_context4","fields","method","items","fetchedUser","dispatch","fetchedAllFriends","setFetching","fetched","console","log","fetchedFriends","isVoidData","fetchedInstagramFriends","instagramFriends","_x3","fetchedBannedFriends","bannedFriends","_x4","updateFriends","_ref5","_callee5","_context5","_x5","updateInstagramFriends","_ref6","_callee6","_context6","_x6","updateBannedFriends","_ref7","_callee7","_context7","_x7","User","size","id","photo_50","photo_100","photo_200_orig","country","description","bdate","url","connectionsType","connections","react_default","createElement","vkui","key","before","src","onClick","window","location","href","openUrl","defaultProps","selectUser","props","go","_useState","useState","_useState2","slicedToArray","isFetching","setIsFetching","useEffect","userActions","useFetchedUser","onRefresh","setTimeout","components_User","assign","data-to","asideContent","chevron_default","RefreshList","handleScroll","handleRefresh","list","footerNameCount","component","groupTitle","children","onScroll","style","display","alignItems","flexDirection","marginTop","map","item","cloneElement","osname","platform","HeaderPanel","handelClick","dataTo","left","IOS","chevron_back_default","back_default","UsersList","usersList","handleScrollBottom","handleFetched","searchFilter","isSearch","headerPanelTitle","otherProps","objectWithoutProperties","_useState3","_useState4","setSearch","_useState5","_useState6","userSearch","setUserSearch","addEventListener","e","scrollHeight","target","documentElement","clientHeight","pageYOffset","Fragment","components_HeaderPanel","value","onChange","searchUsers","onClose","components_RefreshList","selectFriends","frendsActions","offsetUsers","containers_UsersList","status","domain","toLowerCase","indexOf","App","activePanel","setActivePanel","currentTarget","dataset","to","containers_Home","containers_Friends_Friends","Instagram","Friends_BannedFriends","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.82dd8f1c.chunk.js","sourcesContent":["export const SET_USER = 'SET_USER';","import { SET_USER } from './actionType';\r\n\r\nconst userInitialState = {\r\n\tphoto_200: 'https://pp.userapi.com/c841034/v841034569/3b8c1/pt3sOw_qhfg.jpg',\r\n\tfirst_name: 'Вася',\r\n\tlast_name: 'Васечкин',\r\n\tcity: { title: 'New York' }\r\n};\r\n\r\nexport default function user (state = userInitialState, action = {}) {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t};\r\n};\r\n\r\nexport const getUser = (state) => {\r\n\treturn state.user;\r\n};","export const FETCHED_FRIENDS = 'FETCHED_FRIENDS';\r\nexport const FETCHED_ALL_FRIENDS = 'FETCHED_ALL_FRIENDS';\r\nexport const UPDATE_FRIENDS = 'UPDATE_FRIENDS';\r\nexport const FETCHED_INSTAGRAM_FRIENDS = 'FETCHED_INSTAGRAM_FRIENDS';\r\nexport const UPDATE_INSTAGRAM_FRIENDS = 'UPDATE_INSTAGRAM_FRIENDS';\r\nexport const FETCHED_BANNED_FRIENDS = 'FETCHED_BANNED_FRIENDS';\r\nexport const UPDATE_BANNED_FRIENDS = 'UPDATE_BANNED_FRIENDS';","import {\r\n\tFETCHED_FRIENDS,\r\n\tUPDATE_FRIENDS,\r\n\tFETCHED_INSTAGRAM_FRIENDS,\r\n\tUPDATE_INSTAGRAM_FRIENDS,\r\n\tFETCHED_BANNED_FRIENDS,\r\n\tUPDATE_BANNED_FRIENDS,\r\n} from './actionType';\r\n\r\nconst userInitialState = {\r\n\tusers: [],\r\n\tinstagramUsers: [],\r\n\tbannedUsers: [],\r\n\r\n\toffsetFriends: 0,\r\n\toffsetInstagramFriends: 0,\r\n\toffsetBannedFriends: 0,\r\n};\r\n\r\n\r\nexport default function friends (state = userInitialState, action = {}) {\r\n\tswitch (action.type) {\r\n\t\tcase FETCHED_FRIENDS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\toffsetFriends: action.offsetFriends,\r\n\t\t\t\tusers: [...action.users],\r\n\t\t\t};\r\n\t\tcase UPDATE_FRIENDS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\toffsetFriends: action.offsetFriends,\r\n\t\t\t\tusers: [...state.users, ...action.users],\r\n\t\t\t};\r\n\t\tcase FETCHED_INSTAGRAM_FRIENDS: \r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\toffsetInstagramFriends: action.offsetInstagramFriends,\r\n\t\t\t\tinstagramUsers: [...action.users.filter(user => user.instagram)],\r\n\t\t\t};\r\n\t\tcase UPDATE_INSTAGRAM_FRIENDS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\toffsetInstagramFriends: action.offsetInstagramFriends,\r\n\t\t\t\tinstagramUsers: [...state.instagramUsers, ...action.users.filter(user => user.instagram)],\r\n\t\t\t};\r\n\t\tcase FETCHED_BANNED_FRIENDS: \r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\toffsetBannedFriends: action.offsetBannedFriends,\r\n\t\t\t\tbannedUsers: [...action.users.filter(user => user.deactivated === 'deleted' || user.deactivated === 'banned')]\r\n\t\t\t};\r\n\t\tcase UPDATE_BANNED_FRIENDS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\toffsetBannedFriends: action.offset,\r\n\t\t\t\tbannedUsers: [...state.bannedUsers, ...action.users.filter(user => user.deactivated === 'deleted' || user.deactivated === 'banned')]\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t};\r\n};\r\n\r\nexport const getFriends = (state) => state.friends.users;\r\nexport const getFriendsInInstagram = (state) => state.friends.instagramUsers;\r\nexport const getBannedFriends = (state) => state.friends.bannedUsers;\r\n\r\nexport const getOffsetFriends = (state) => state.friends.offsetFriends;\r\nexport const getOffsetInstagramFriends = (state) => state.friends.offsetInstagramFriends;\r\nexport const getOffsetBannedFriends = (state) => state.friends.offsetBannedFriends;","export const FETCHED_SEARCH = 'FETCHED_SEARCH';","import {FETCHED_SEARCH} from './actionType';\r\n\r\nconst initialState = {\r\n\tq: []\r\n};\r\n\r\nexport default function search (state=initialState, action={}) {\r\n\tswitch(action.type) {\r\n\t\tcase FETCHED_SEARCH:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tq: action.search.filter(q => q.type === 'profile')\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const getSearch = (state) => {\r\n\treturn state.search.q;\r\n};","import {combineReducers} from 'redux';\r\nimport user, * as selectUser from './user/reducer';\r\nimport friends, * as selectFriends from './friends/reducer';\r\nimport search, * as selectSearch from './search/reducer';\r\n\r\nexport default combineReducers({\r\n\tuser,\r\n\tfriends,\r\n\tsearch\r\n});\r\n\r\nexport {\r\n\tselectUser,\r\n\tselectFriends,\r\n\tselectSearch\r\n}","import connect from '@vkontakte/vkui-connect-promise';\r\n\r\nconst v = '5.95';\r\nconst app_id = 7080438;\r\n\r\nconst initStore = {\r\n\taccess_token: '',\r\n\tdateTime: '',\r\n\tscope: ''\r\n};\r\n\r\nconst clearStorage = () => {\r\n\tinitStore.access_token = '';\r\n\tinitStore.dateTime = '';\r\n\tinitStore.scope = '';\r\n};\r\n\r\nconst fetchedAccessToken = async (scope) => {\r\n\ttry {\r\n\t\tconst response = await connect.send('VKWebAppGetAuthToken', {app_id, scope});\r\n\t\treturn await response.data.access_token;\r\n\t} catch (err) {\r\n\t\tthrow Error(err.message);\r\n\t}\r\n};\r\n\r\nconst getAccessToken = async (scope) => {\r\n\ttry {\r\n\t\tconst resTime = 1000000;\r\n\t\tconst newTime = Date.now();\r\n\t\tconst oldTime = initStore.dateTime || (Date.now() - resTime + 1);\r\n\t\tconst diffTime = newTime - oldTime;\r\n\t\tconst updateScope = initStore.scope !== scope;\r\n\t\tconst oneFetched = !initStore.oneFetched;\r\n\t\tconst isTimeRunUot = (!localStorage.access_token && diffTime > resTime);\r\n\r\n\t\tif ((isTimeRunUot || updateScope) && oneFetched) {\r\n\t\t\tconst access_token = await fetchedAccessToken(scope);\r\n\t\t\tinitStore.access_token = access_token;\r\n\t\t\tinitStore.dateTime = newTime;\r\n\t\t\tinitStore.scope = scope;\r\n\t\t}\r\n\t\treturn await initStore.access_token;\r\n\t} catch (err) {\r\n\t\tclearStorage();\r\n\t\tthrow Error(err.message);\r\n\t}\r\n};\r\n\r\nexport const getUser = async () => {\r\n\ttry{\r\n\t\tconst response = await connect.send('VKWebAppGetUserInfo', {});\r\n\t\treturn await response.data;\r\n\t} catch(err) {\r\n\t\tthrow Error(err.message);\r\n\t}\r\n};\r\n\r\nexport const getFriends = async (count=100, offset=0) => {\r\n\ttry{\r\n\t\tconst access_token = await getAccessToken('friends, groups');\r\n\t\tconst method = 'friends.get';\r\n\t\tconst fields = 'connections,deactivated,nickname,domain,sex,bdate,city,country,timezone,photo_50,photo_100,photo_200_orig,has_mobile,contacts,education,online,relation,last_seen,status,can_write_private_message,can_see_all_posts,can_post,universities';\r\n\t\tconst params = {access_token, v, fields, count, offset};\r\n\t\tconst response = await connect.send('VKWebAppCallAPIMethod', {method, params});\r\n\t\treturn await response.data.response.items;\r\n\t} catch (err) {\r\n\t\tclearStorage();\r\n\t\tthrow Error(err.message);\r\n\t}\r\n};\r\n\r\nexport const fetchedSearch = async ({q='', offset=0, limit=10, filters='', fields='', search_global=1}) => {\r\n\ttry{\r\n\t\tconst access_token = await getAccessToken('friends, groups');\r\n\t\tconst method = 'search.getHints';\r\n\t\tconst params = { access_token, v, q, offset, limit, filters, search_global };\r\n\t\tconst response = await connect.send('VKWebAppCallAPIMethod', {method, params});\r\n\t\treturn await response.data.response.items;\r\n\t} catch (err) {\r\n\t\tclearStorage();\r\n\t\tthrow Error(err.message);\r\n\t}\r\n};","import {SET_USER} from './actionType';\r\nimport {getUser} from '../../utils/api/vk';\r\n\r\nexport const fetchedUser = () => async (dispatch) => {\r\n\tconst data = await getUser();\r\n\tdispatch({type: SET_USER, payload: data});\r\n};","import {\r\n\tFETCHED_FRIENDS,\r\n\tUPDATE_FRIENDS,\r\n\tFETCHED_INSTAGRAM_FRIENDS,\r\n\tUPDATE_INSTAGRAM_FRIENDS,\r\n\tFETCHED_BANNED_FRIENDS,\r\n\tUPDATE_BANNED_FRIENDS\r\n} from './actionType';\r\nimport {getFriends} from '../../utils/api/vk';\r\n\r\nexport const fetchedAllFriends = (setFetching) => {\r\n\tlet offset = 0;\r\n\tconst fetched = async (dispatch) => {\r\n\t\tconst data = await getFriends(100, offset);\r\n\t\tconst isVoidData = !data.length;\r\n\t\tif (!isVoidData && offset <= 5000) {\r\n\t\t\tconsole.log('fetchedAllUsers', offset);\r\n\t\t\toffset += 100;\r\n\t\t\tfetched(dispatch);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: UPDATE_FRIENDS,\r\n\t\t\t\tusers: [...data],\r\n\t\t\t\toffsetFriends: offset\r\n\t\t\t});\r\n\t\t\tif (setFetching) { setFetching(); }\r\n\t\t}\r\n\t};\r\n\treturn fetched;\r\n};\r\n\r\nexport const fetchedFriends = (setFetching) => {\r\n\tlet offset = 0;\r\n\tconst fetched = async (dispatch) => {\r\n\t\tconst data = await getFriends(100, offset);\r\n\t\tconst isVoidData = !data.length;\r\n\t\tif (data.length < 10 && offset <= 5000) {\r\n\t\t\tconsole.log('FETCHED_FRIENDS', offset);\r\n\t\t\toffset += 100;\r\n\t\t\tfetched(dispatch);\r\n\t\t}\r\n\t\tif (!isVoidData) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: UPDATE_FRIENDS,\r\n\t\t\t\tusers: [...data],\r\n\t\t\t\toffsetFriends: offset\r\n\t\t\t});\r\n\t\t\tif (setFetching) { setFetching(); }\r\n\t\t}\r\n\t};\r\n\treturn fetched;\r\n};\r\n\r\nexport const fetchedInstagramFriends = (setFetching) => {\r\n\tlet offset = 0;\r\n\tconst fetched = async (dispatch) => {\r\n\t\tconst data = await getFriends(100, offset);\r\n\t\tconst instagramFriends = data.filter(user => user.instagram);\r\n\t\tconst isVoidData = !instagramFriends.length;\r\n\t\tif (instagramFriends.length < 10 && offset <= 5000) {\r\n\t\t\tconsole.log('FETCHED_INSTAGRAM_FRIENDS', offset);\r\n\t\t\toffset += 100;\r\n\t\t\tfetched(dispatch);\r\n\t\t}\r\n\t\tif (!isVoidData) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: UPDATE_INSTAGRAM_FRIENDS,\r\n\t\t\t\tusers: [...instagramFriends],\r\n\t\t\t\toffsetInstagramFriends: offset\r\n\t\t\t});\r\n\t\t\tif (setFetching) { setFetching(); }\r\n\t\t}\r\n\t};\r\n\treturn fetched;\r\n};\r\n\r\nexport const fetchedBannedFriends = (setFetching) => {\r\n\tlet offset = 0;\r\n\tconst fetched = async (dispatch) => {\r\n\t\tconst data = await getFriends(100, offset);\r\n\t\tconst bannedFriends = data.filter(user => user.deactivated === 'deleted' || user.deactivated === 'banned');\r\n\t\tconst isVoidData = !bannedFriends.length;\r\n\t\tif (bannedFriends.length < 10 && offset <= 5000) {\r\n\t\t\tconsole.log('FETCHED_BANNED_FRIENDS', offset);\r\n\t\t\toffset += 100;\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: UPDATE_BANNED_FRIENDS,\r\n\t\t\t\tusers: [...bannedFriends],\r\n\t\t\t\toffsetBannedFriends: offset\r\n\t\t\t});\r\n\t\t\tfetched(dispatch);\r\n\t\t}\r\n\t\tif (!isVoidData) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: UPDATE_BANNED_FRIENDS,\r\n\t\t\t\tusers: [...bannedFriends],\r\n\t\t\t\toffsetBannedFriends: offset\r\n\t\t\t});\r\n\t\t\tif (setFetching) { setFetching(); }\r\n\t\t}\r\n\t};\r\n\treturn fetched;\r\n};\r\n\r\nexport const updateFriends = (offset=0) => async (dispatch) => {\r\n\tconsole.log('UPDATE_FRIENDS', offset);\r\n\tconst data = await getFriends(100, offset);\r\n\tdispatch({type: UPDATE_FRIENDS, users: [...data]});\r\n};\r\n\r\nexport const updateInstagramFriends = (offset=0) => async (dispatch) => {\r\n\tconsole.log('UPDATE_INSTAGRAM_FRIENDS', offset);\r\n\tconst data = await getFriends(100, offset);\r\n\tdispatch({type: UPDATE_INSTAGRAM_FRIENDS, users: [...data]});\r\n};\r\n\r\nexport const updateBannedFriends = (offset=0) => async (dispatch) => {\r\n\tconsole.log('UPDATE_BANNED_FRIENDS', offset);\r\n\tconst data = await getFriends(100, offset);\r\n\tdispatch({type: UPDATE_BANNED_FRIENDS, users: [...data]});\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Cell,Avatar} from '@vkontakte/vkui';\r\n\r\nconst INSTAGRAM = 'instagram';\r\nconst VK = 'vk';\r\n\r\nconst connectionsType = ({id, type, instagram}) => {\r\n\tswitch(type) {\r\n\t\tcase VK: return `https://vk.com/id${id}`;\r\n\t\tcase INSTAGRAM: return `https://www.instagram.com/${instagram}`;\r\n\t\tdefault: return `https://vk.com/id${id}`;\r\n\t}\r\n};\r\n\r\nconst openUrl = (url) => {\r\n\twindow.location.href = url;\r\n};\r\n\r\nconst  User = ({\r\n\tsize,\r\n\tid,\r\n\tphoto_50,\r\n\tphoto_100,\r\n\tphoto_200,\r\n\tphoto_200_orig,\r\n\tcity,\r\n\tcountry,\r\n\tfirst_name,\r\n\tlast_name,\r\n\tbdate,\r\n\tdescription,\r\n\tinstagram,\r\n\tconnections\r\n}) => {\r\n\tconst url = connectionsType({ id, type: connections, instagram });\r\n\treturn (\r\n\t\t<Cell\r\n\t\t\tkey={id}\r\n\t\t\tbefore={<Avatar\r\n\t\t\t\t\tsize={size}\r\n\t\t\t\t\tsrc={photo_200_orig || photo_200 || photo_100 || photo_50}\r\n\t\t\t\t/>}\r\n\t\t\tsize=\"l\"\r\n\t\t\tdescription={description || `${city.title} ${country.title}`}\r\n\t\t\tonClick={() => openUrl(url)}\r\n\t\t>\r\n\t\t\t{`${first_name} ${last_name}`}\r\n\t\t</Cell>\r\n\t);\r\n}\r\n\r\nUser.propTypes = {\r\n\tid: PropTypes.number,\r\n\tsize: PropTypes.number,\r\n\tphoto_50: PropTypes.string,\r\n\tphoto_100: PropTypes.string,\r\n\tphoto_200: PropTypes.string,\r\n\tphoto_200_orig: PropTypes.string,\r\n\tfirst_name: PropTypes.string,\r\n\tlast_name: PropTypes.string,\r\n\tbdate: PropTypes.string,\r\n\tdescription: PropTypes.string,\r\n\tconnections: PropTypes.string,\r\n\tinstagram: PropTypes.string,\r\n\tcity: PropTypes.shape({title: PropTypes.string}),\r\n\tcountry: PropTypes.shape({title: PropTypes.string})\r\n};\r\n\r\nUser.defaultProps = {\r\n\tsize: 48,\r\n\tcity: {title: ''},\r\n\tcountry: {title: ''},\r\n\tconnections: 'vk'\r\n};\r\n\r\nexport default User;","import React, {useEffect, useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {selectUser} from '../store/reducers';\r\nimport {userActions} from '../store/actions';\r\n\r\nimport {Panel, List, Group, PanelHeader, Cell, PullToRefresh} from '@vkontakte/vkui';\r\nimport Icon24Chevron from '@vkontakte/icons/dist/24/chevron';\r\n\r\nimport User from '../components/User';\r\n\r\nconst useFetchedUser = (dispatch) => {\r\n\tuseEffect(() => {\r\n\t\tconst {fetchedUser} = userActions;\r\n\t\tdispatch(fetchedUser());\r\n\t}, []);\r\n};\r\n\r\nconst Home = (props) => {\r\n\tconst {id, go, fetchedUser, dispatch} = props;\r\n\tconst [isFetching, setIsFetching] = useState(false);\r\n\tuseFetchedUser(dispatch);\r\n\r\n\tconst onRefresh = () => {\r\n\t\tsetIsFetching(true);\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetIsFetching(false);\r\n\t\t}, 2000);\r\n\t};\r\n\r\n\treturn(\r\n\t\t<Panel id={id}>\r\n\t\t\t<PanelHeader>Главная</PanelHeader>\r\n\t\t\t\r\n\t\t\t<PullToRefresh\r\n\t\t\t\tonRefresh={onRefresh}\r\n\t\t\t\tisFetching={isFetching}>\r\n\t\t\t\t<Group title=\"\">\r\n\t\t\t\t\t<User size={36} {...fetchedUser} go={go} />\r\n\t\t\t\t</Group>\r\n\r\n\t\t\t\t<Group title=\"Друзья\">\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t<Cell\r\n\t\t\t\t\t\t\tonClick={go}\r\n\t\t\t\t\t\t\tdata-to='friends'\r\n\t\t\t\t\t\t\tasideContent={<Icon24Chevron />}\r\n\t\t\t\t\t\t>Поиск по друзьям</Cell>\r\n\t\t\t\t\t\t<Cell\r\n\t\t\t\t\t\t\tonClick={go}\r\n\t\t\t\t\t\t\tdata-to='friendsInInstagram'\r\n\t\t\t\t\t\t\tasideContent={<Icon24Chevron />}\r\n\t\t\t\t\t\t>Друзья в инстаграмме</Cell>\r\n\t\t\t\t\t\t<Cell\r\n\t\t\t\t\t\t\tonClick={go}\r\n\t\t\t\t\t\t\tdata-to='deletedAndBanned'\r\n\t\t\t\t\t\t\tasideContent={<Icon24Chevron />}\r\n\t\t\t\t\t\t>удалённые / заданные</Cell>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</Group>\r\n\t\t\t</PullToRefresh>\r\n\t\t</Panel>\r\n\t);\r\n}\r\n\r\nHome.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tfetchedUser: selectUser.getUser(state)\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Home);\r\n","import React, {cloneElement} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Footer,PullToRefresh,Group,List,Spinner} from '@vkontakte/vkui';\r\n\r\nconst RefreshList = ({\r\n\thandleScroll,\r\n\thandleRefresh,\r\n\tisFetching,\r\n\tlist,\r\n\tcomponent,\r\n\tfooterNameCount,\r\n\tgroupTitle,\r\n\tchildren\r\n}) => {\r\n\t\r\n\treturn(\r\n\t\t<PullToRefresh\r\n\t\t\tonScroll={handleScroll}\r\n\t\t\tonRefresh={handleRefresh}\r\n\t\t\tisFetching={isFetching}>\r\n\t\t\t{!list.length && !isFetching && <div style={{ display: 'flex', alignItems: 'center', flexDirection: 'column' }}>\r\n\t\t\t\t<Spinner size=\"regular\" style={{ marginTop: 20 }} />\r\n\t\t\t</div>}\r\n\t\t\t{list.length > 0 && <Group title={groupTitle}>\r\n\t\t\t\t{list.map((item, key) => (\r\n\t\t\t\t\t<List key={item.id || key}>\r\n\t\t\t\t\t\t{cloneElement(children, item)}\r\n\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t))}\r\n\t\t\t</Group>}\r\n\t\t\t<Footer>{list.length} {footerNameCount}</Footer>\r\n\t\t</PullToRefresh>\r\n\t);\r\n}\r\n\r\nRefreshList.propTypes = {\r\n\thandleScroll: PropTypes.func,\r\n\thandleRefresh: PropTypes.func.isRequired,\r\n\tisFetching: PropTypes.bool.isRequired,\r\n\tlist: PropTypes.array.isRequired,\r\n\tgroupTitle: PropTypes.string,\r\n\tfooterNameCount: PropTypes.string,\r\n};\r\n\r\nRefreshList.defaultProps = {\r\n\thandleScroll: () => {},\r\n};\r\n\r\nexport default RefreshList;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {\r\n\tPanelHeader,\r\n\tHeaderButton,\r\n\tplatform,\r\n\tIOS\r\n} from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nconst osname = platform();\r\n\r\nconst HeaderPanel = ({\r\n\thandelClick,\r\n\tdataTo,\r\n\ttitle\r\n}) => {\r\n\treturn (\r\n\t\t<PanelHeader\r\n\t\t\tleft={<HeaderButton onClick={handelClick} data-to={dataTo}>\r\n\t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t</HeaderButton>}\r\n\t\t>{title}</PanelHeader>\r\n\t);\r\n}\r\n\r\nHeaderPanel.propTypes = {\r\n\thandelClick: PropTypes.func.isRequired,\r\n\tdataTo: PropTypes.string.isRequired,\r\n\ttitle: PropTypes.string\r\n};\r\n\r\nexport default HeaderPanel;","import React, {useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {Search} from '@vkontakte/vkui';\r\n\r\nimport User from '../components/User';\r\nimport RefreshList from '../components/RefreshList';\r\nimport HeaderPanel from '../components/HeaderPanel';\r\n\r\nconst UsersList = ({\r\n\tgo,\r\n\tusersList,\r\n\thandleScrollBottom,\r\n\thandleFetched,\r\n\r\n\tsearchFilter,\r\n\tisSearch,\r\n\r\n\theaderPanelTitle,\r\n\tfooterNameCount,\r\n\r\n\t...otherProps\r\n}) => {\r\n\tconst [isFetching, setIsFetching] = useState(false);\r\n\tconst [search, setSearch] = useState('');\r\n\tconst [userSearch, setUserSearch] = useState('');\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener('scroll', handleScroll);\r\n\t\thandleFetched(setFetching);\r\n\t}, []);\r\n\r\n\tconst onRefresh = () => {\r\n\t\tsetIsFetching(true);\r\n\t\thandleFetched(setFetching);\r\n\t};\r\n\r\n\tconst setFetching = () => setIsFetching(false);\r\n\r\n\tconst handleScroll = (e) => {\r\n\t\tconst scrollHeight = e.target.documentElement.scrollHeight;\r\n\t\tconst clientHeight = e.target.documentElement.clientHeight;\r\n\t\tconst scrollY = window.pageYOffset + 5;\r\n\t\tif (scrollY >= scrollHeight - clientHeight) {\r\n\t\t\thandleScrollBottom();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSearch = (search) => {\r\n\t\tconst searchUsers = searchFilter(search);\r\n\t\tsetSearch(search);\r\n\t\tsetUserSearch(searchUsers);\r\n\t};\r\n\r\n\tconst handelCloseSearch = () => {\r\n\t\tsetSearch('');\r\n\t\tsetUserSearch('');\r\n\t};\r\n\r\n\treturn(\r\n\t\t<>\r\n\t\t\t<HeaderPanel title={headerPanelTitle} handelClick={go} dataTo='home' />\r\n\t\t\t{usersList.length > 0 && isSearch && <Search value={search} onChange={handleSearch} onClose={handelCloseSearch}/>}\r\n\t\t\t<RefreshList\r\n\t\t\t\thandleScroll={handleScroll}\r\n\t\t\t\thandleRefresh={onRefresh}\r\n\t\t\t\tisFetching={isFetching}\r\n\t\t\t\tlist={!userSearch.length ? usersList : userSearch}\r\n\t\t\t\tfooterNameCount={footerNameCount}\r\n\t\t\t>\r\n\t\t\t\t<User size={36} go={go} {...otherProps} />\r\n\t\t\t</RefreshList>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nUsersList.propTypes = {\r\n\tgo: PropTypes.func.isRequired,\r\n\tusersList: PropTypes.array.isRequired,\r\n\thandleScrollBottom: PropTypes.func.isRequired,\r\n\thandleFetched: PropTypes.func.isRequired,\r\n\r\n\tsearchFilter: PropTypes.func,\r\n\tisSearch: PropTypes.bool,\r\n\r\n\theaderPanelTitle: PropTypes.string,\r\n\tfooterNameCount: PropTypes.string,\r\n};\r\n\r\nUsersList.defaultProps = {\r\n\tisSearch: false,\r\n\tsearchFilter: () => {},\r\n\theaderPanelTitle: '',\r\n\tfooterNameCount: ''\r\n};\r\n\r\nexport default UsersList;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {selectFriends} from '../../store/reducers';\r\nimport {frendsActions} from '../../store/actions';\r\n\r\nimport {Panel} from '@vkontakte/vkui';\r\n\r\nimport UsersList from '../UsersList';\r\n\r\nconst Friends = ({id, go, users, offsetFriends, dispatch}) => {\r\n\tconst {updateFriends, fetchedFriends} = frendsActions;\r\n\tlet offsetUsers = offsetFriends;\r\n\r\n\tconst handleScroll = () => {\r\n\t\toffsetUsers += 100;\r\n\t\tdispatch(updateFriends(offsetUsers));\r\n\t};\r\n\r\n\tconst handleSearch = (search) => {\r\n\t\treturn users.filter(({first_name, last_name, status, domain}) => {\r\n\t\t\tconst q = `${first_name} ${last_name} ${domain} ${status}`.toLowerCase();\r\n\t\t\treturn q.indexOf(search.toLowerCase()) > -1;\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleFetched = (setFetching) => {\r\n\t\tdispatch(fetchedFriends(setFetching));\r\n\t}\r\n\r\n\treturn(\r\n\t\t<Panel id={id}>\r\n\t\t\t<UsersList\r\n\t\t\t\tgo={go}\r\n\t\t\t\tusersList={users}\r\n\t\t\t\thandleScrollBottom={handleScroll}\r\n\t\t\t\thandleFetched={handleFetched}\r\n\t\t\t\tsearchFilter={handleSearch}\r\n\t\t\t\tisSearch={true}\r\n\t\t\t\theaderPanelTitle='Друзья'\r\n\t\t\t\tfooterNameCount='друзей'\r\n\t\t\t/>\r\n\t\t</Panel>\r\n\t);\r\n}\r\n\r\nFriends.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tusers: selectFriends.getFriends(state),\r\n\toffsetFriends: selectFriends.getOffsetFriends(state)\r\n});\r\nexport default connect(mapStateToProps, null)(Friends);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {selectFriends} from '../../store/reducers';\r\nimport {frendsActions} from '../../store/actions';\r\n\r\nimport {Panel} from '@vkontakte/vkui';\r\n\r\nimport UsersList from '../UsersList';\r\n\r\nconst FriendsInInstagram = ({id, go, users, getOffsetInstagramFriends, dispatch}) => {\r\n\tconst {updateInstagramFriends, fetchedInstagramFriends} = frendsActions;\r\n\tlet offsetFriends = getOffsetInstagramFriends;\r\n\r\n\tconst handleScroll = () => {\r\n\t\toffsetFriends += 100;\r\n\t\tdispatch(updateInstagramFriends(offsetFriends));\r\n\t};\r\n\r\n\tconst handleSearch = (search) => {\r\n\t\treturn users.filter(({first_name, last_name, status, domain}) => {\r\n\t\t\tconst q = `${first_name} ${last_name} ${domain} ${status}`.toLowerCase();\r\n\t\t\treturn q.indexOf(search.toLowerCase()) > -1;\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleFetched = (setFetching) => {\r\n\t\tdispatch(fetchedInstagramFriends(setFetching));\r\n\t}\r\n\r\n\treturn(\r\n\t\t<Panel id={id}>\r\n\t\t\t<UsersList\r\n\t\t\t\tgo={go}\r\n\t\t\t\tusersList={users}\r\n\t\t\t\thandleScrollBottom={handleScroll}\r\n\t\t\t\thandleFetched={handleFetched}\r\n\t\t\t\tsearchFilter={handleSearch}\r\n\t\t\t\tisSearch={true}\r\n\t\t\t\theaderPanelTitle='Друзья'\r\n\t\t\t\tfooterNameCount='друзей'\r\n\t\t\t\tconnections='instagram'\r\n\t\t\t/>\r\n\t\t</Panel>\r\n\t);\r\n}\r\n\r\nFriendsInInstagram.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tusers: selectFriends.getFriendsInInstagram(state),\r\n\tgetOffsetInstagramFriends: selectFriends.getOffsetInstagramFriends(state)\r\n});\r\nexport default connect(mapStateToProps, null)(FriendsInInstagram);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {selectFriends} from '../../store/reducers';\r\nimport {frendsActions} from '../../store/actions';\r\n\r\nimport {Panel} from '@vkontakte/vkui';\r\n\r\nimport UsersList from '../UsersList';\r\n\r\nconst BannedFriends = ({id, go, users, getOffsetBannedFriends, dispatch}) => {\r\n\tconst {fetchedBannedFriends, updateBannedFriends} = frendsActions;\r\n\r\n\tconst handleScroll = () => {\r\n\t\tlet offsetFriends = getOffsetBannedFriends;\r\n\t\tdispatch(updateBannedFriends(getOffsetBannedFriends));\r\n\t};\r\n\r\n\tconst handleSearch = (search) => {\r\n\t\treturn users.filter(({first_name, last_name, status, domain}) => {\r\n\t\t\tconst q = `${first_name} ${last_name} ${domain} ${status}`.toLowerCase();\r\n\t\t\treturn q.indexOf(search.toLowerCase()) > -1;\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleFetched = (setFetching) => {\r\n\t\tdispatch(fetchedBannedFriends(setFetching));\r\n\t}\r\n\r\n\treturn(\r\n\t\t<Panel id={id}>\r\n\t\t\t<UsersList\r\n\t\t\t\tgo={go}\r\n\t\t\t\tusersList={users}\r\n\t\t\t\thandleScrollBottom={handleScroll}\r\n\t\t\t\thandleFetched={handleFetched}\r\n\t\t\t\tsearchFilter={handleSearch}\r\n\t\t\t\tisSearch={true}\r\n\t\t\t\theaderPanelTitle='Удаленные/Забаненные'\r\n\t\t\t\tfooterNameCount='количество удаленных и забенных'\r\n\t\t\t/>\r\n\t\t</Panel>\r\n\t);\r\n}\r\n\r\nBannedFriends.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tusers: selectFriends.getBannedFriends(state),\r\n\tgetOffsetBannedFriends: selectFriends.getOffsetBannedFriends(state)\r\n});\r\nexport default connect(mapStateToProps, null)(BannedFriends);","import React, {useState} from 'react';\n\nimport {View} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './containers/Home';\nimport Friends from './containers/Friends/Friends';\nimport Instagram from './containers/Friends/Instagram';\nimport BannedFriends from './containers/Friends/BannedFriends';\n\nconst App = (props) => {\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst go = (e) => setActivePanel(e.currentTarget.dataset.to);\n\n\treturn (\n\t\t<View activePanel={activePanel}>\n\t\t\t<Home id=\"home\" go={go} />\n\t\t\t<Friends id=\"friends\" go={go} />\n\t\t\t<Instagram id=\"friendsInInstagram\" go={go} />\n\t\t\t<BannedFriends id=\"deletedAndBanned\" go={go} />\n\t\t</View>\n\t);\n};\n\nexport default App;","import 'core-js/es6/map';\nimport 'core-js/es6/set';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {createStore, applyMiddleware} from 'redux';\nimport {Provider} from 'react-redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './store/reducers';\n\nimport connect from '@vkontakte/vkui-connect-promise';\nimport App from './App';\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\n\nconst CombineApp = () => (\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>\n);\n\nconnect.send('VKWebAppInit', {});\nReactDOM.render(<CombineApp />, document.getElementById('root'));\n"],"sourceRoot":""}